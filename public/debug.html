<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Portfolio Sergio Sena</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1a1a1a; color: white; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .ok { background: #065f46; }
        .error { background: #7f1d1d; }
        .warning { background: #78350f; }
        pre { background: #2a2a2a; padding: 15px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>üîß Diagn√≥stico do Portfolio</h1>
    
    <div id="status"></div>
    
    <h2>Testes de Conectividade</h2>
    <div id="connectivity"></div>
    
    <h2>Scripts Carregados</h2>
    <div id="scripts"></div>
    
    <h2>Console Logs</h2>
    <pre id="logs"></pre>
    
    <script>
        const statusDiv = document.getElementById('status');
        const connectivityDiv = document.getElementById('connectivity');
        const scriptsDiv = document.getElementById('scripts');
        const logsDiv = document.getElementById('logs');
        
        let logs = [];
        
        // Capturar logs
        const originalLog = console.log;
        const originalWarn = console.warn;
        const originalError = console.error;
        
        console.log = (...args) => {
            logs.push(`[LOG] ${args.join(' ')}`);
            originalLog(...args);
            updateLogs();
        };
        
        console.warn = (...args) => {
            logs.push(`[WARN] ${args.join(' ')}`);
            originalWarn(...args);
            updateLogs();
        };
        
        console.error = (...args) => {
            logs.push(`[ERROR] ${args.join(' ')}`);
            originalError(...args);
            updateLogs();
        };
        
        function updateLogs() {
            logsDiv.textContent = logs.join('\n');
        }
        
        function addStatus(message, type = 'ok') {
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.textContent = message;
            statusDiv.appendChild(div);
        }
        
        // Testes b√°sicos
        addStatus('‚úÖ HTML carregado');
        addStatus('‚úÖ JavaScript funcionando');
        
        // Teste de localStorage
        try {
            localStorage.setItem('test', 'ok');
            localStorage.removeItem('test');
            addStatus('‚úÖ localStorage funcionando');
        } catch (e) {
            addStatus('‚ùå localStorage com problema: ' + e.message, 'error');
        }
        
        // Teste de fetch
        async function testConnectivity() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                if (response.ok) {
                    const data = await response.json();
                    connectivityDiv.innerHTML = `
                        <div class="status ok">‚úÖ API de geolocaliza√ß√£o funcionando</div>
                        <div class="status ok">Pa√≠s detectado: ${data.country_name} (${data.country_code})</div>
                    `;
                } else {
                    connectivityDiv.innerHTML = '<div class="status warning">‚ö†Ô∏è API de geolocaliza√ß√£o com problema</div>';
                }
            } catch (error) {
                connectivityDiv.innerHTML = `<div class="status error">‚ùå Erro na API: ${error.message}</div>`;
            }
        }
        
        // Verificar scripts
        function checkScripts() {
            const scripts = document.querySelectorAll('script[src]');
            scripts.forEach(script => {
                const div = document.createElement('div');
                div.className = 'status ok';
                div.textContent = `‚úÖ Script: ${script.src}`;
                scriptsDiv.appendChild(div);
            });
        }
        
        // Executar testes
        testConnectivity();
        checkScripts();
        
        // Teste do sistema de tradu√ß√£o
        setTimeout(() => {
            if (window.translations) {
                addStatus('‚úÖ Sistema de tradu√ß√£o carregado');
            } else {
                addStatus('‚ùå Sistema de tradu√ß√£o n√£o carregado', 'error');
            }
            
            if (window.languageSystem) {
                addStatus('‚úÖ LanguageSystem inicializado');
            } else {
                addStatus('‚ùå LanguageSystem n√£o inicializado', 'error');
            }
        }, 2000);
    </script>
    
    <script src="../src/js/translations.js"></script>
    
    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #444;">
        <a href="index.html" style="color: #60a5fa;">‚Üê Voltar ao Portfolio</a>
    </div>
</body>
</html>