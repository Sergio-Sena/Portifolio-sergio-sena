"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/feed";
exports.ids = ["pages/api/feed"];
exports.modules = {

/***/ "(api-node)/./middlewares/conectarMongoDB.ts":
/*!****************************************!*\
  !*** ./middlewares/conectarMongoDB.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   conectarMongoDB: () => (/* binding */ conectarMongoDB)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst conectarMongoDB = (handler)=>async (req, res)=>{\n        //verificar se o banco esta conectado. Se estiver seguir para endPoint\n        // ou proximo middleware\n        if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections)[0].readyState) {\n            return handler(req, res);\n        }\n        ;\n        // ja que não está conectado seguir para conexão\n        //Obter a variavel preenchida do ENV\n        const { DB_CONEXAO_STRING } = process.env;\n        //Se a env estiver vazia aborta o uso do sistema e informa o Desenvolvedor\n        if (!DB_CONEXAO_STRING) {\n            return res.status(500).json({\n                erro: \"Erro interno de sistema, informa o DBA\"\n            });\n        }\n        mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on('connected', ()=>console.log(\"Banco de dados conectado!\"));\n        mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on('erro', (error)=>console.log(`Ocorreu erro ao conectar o Banco de dados: ${error}`));\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(DB_CONEXAO_STRING);\n        //Agora pode seguir para endPoint, pois DB esta conectado \n        return handler(req, res);\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21pZGRsZXdhcmVzL2NvbmVjdGFyTW9uZ29EQi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDK0I7QUFHeEIsTUFBTUMsa0JBQWtCLENBQUNDLFVBQzVCLE9BQU9DLEtBQXFCQztRQUV4QixzRUFBc0U7UUFDdEUsd0JBQXdCO1FBQ3hCLElBQUlKLDZEQUFvQixDQUFDLEVBQUUsQ0FBQ00sVUFBVSxFQUFFO1lBQ3BDLE9BQU9KLFFBQVFDLEtBQUtDO1FBQ3hCOztRQUVBLGdEQUFnRDtRQUNoRCxvQ0FBb0M7UUFDcEMsTUFBTSxFQUFFRyxpQkFBaUIsRUFBRSxHQUFHQyxRQUFRQyxHQUFHO1FBQ3pDLDBFQUEwRTtRQUMxRSxJQUFJLENBQUNGLG1CQUFtQjtZQUNwQixPQUFPSCxJQUFJTSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxNQUFNO1lBQXlDO1FBQ2pGO1FBQ0FaLDBEQUFtQixDQUFDYyxFQUFFLENBQUMsYUFBYSxJQUFNQyxRQUFRQyxHQUFHLENBQUM7UUFDdERoQiwwREFBbUIsQ0FBQ2MsRUFBRSxDQUFDLFFBQVFHLENBQUFBLFFBQVNGLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDJDQUEyQyxFQUFFQyxPQUFPO1FBQ3pHLE1BQU1qQix1REFBZ0IsQ0FBQ087UUFDdkIsMERBQTBEO1FBQzFELE9BQU9MLFFBQVFDLEtBQUtDO0lBQ3hCLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxQcm9qZXRvcyBHaXRcXERldmFyaWFcXERldmFncmFtLU5vZGVcXG1pZGRsZXdhcmVzXFxjb25lY3Rhck1vbmdvREIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlLCBOZXh0QXBpSGFuZGxlciB9IGZyb20gJ25leHQnXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IHR5cGUgeyByZXNwb3N0YVBhZHJhb01zZyB9IGZyb20gJy4uL3R5cGVzL3Jlc3Bvc3RhUGFkcmFvTXNnJztcclxuXHJcbmV4cG9ydCBjb25zdCBjb25lY3Rhck1vbmdvREIgPSAoaGFuZGxlcjogTmV4dEFwaUhhbmRsZXIpID0+XHJcbiAgICBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2U8cmVzcG9zdGFQYWRyYW9Nc2c+KSA9PiB7XHJcblxyXG4gICAgICAgIC8vdmVyaWZpY2FyIHNlIG8gYmFuY28gZXN0YSBjb25lY3RhZG8uIFNlIGVzdGl2ZXIgc2VndWlyIHBhcmEgZW5kUG9pbnRcclxuICAgICAgICAvLyBvdSBwcm94aW1vIG1pZGRsZXdhcmVcclxuICAgICAgICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbnNbMF0ucmVhZHlTdGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gamEgcXVlIG7Do28gZXN0w6EgY29uZWN0YWRvIHNlZ3VpciBwYXJhIGNvbmV4w6NvXHJcbiAgICAgICAgLy9PYnRlciBhIHZhcmlhdmVsIHByZWVuY2hpZGEgZG8gRU5WXHJcbiAgICAgICAgY29uc3QgeyBEQl9DT05FWEFPX1NUUklORyB9ID0gcHJvY2Vzcy5lbnZcclxuICAgICAgICAvL1NlIGEgZW52IGVzdGl2ZXIgdmF6aWEgYWJvcnRhIG8gdXNvIGRvIHNpc3RlbWEgZSBpbmZvcm1hIG8gRGVzZW52b2x2ZWRvclxyXG4gICAgICAgIGlmICghREJfQ09ORVhBT19TVFJJTkcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJybzogXCJFcnJvIGludGVybm8gZGUgc2lzdGVtYSwgaW5mb3JtYSBvIERCQVwiIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Nvbm5lY3RlZCcsICgpID0+IGNvbnNvbGUubG9nKFwiQmFuY28gZGUgZGFkb3MgY29uZWN0YWRvIVwiKSk7XHJcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJybycsIGVycm9yID0+IGNvbnNvbGUubG9nKGBPY29ycmV1IGVycm8gYW8gY29uZWN0YXIgbyBCYW5jbyBkZSBkYWRvczogJHtlcnJvcn1gKSk7XHJcbiAgICAgICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChEQl9DT05FWEFPX1NUUklORyk7XHJcbiAgICAgICAgLy9BZ29yYSBwb2RlIHNlZ3VpciBwYXJhIGVuZFBvaW50LCBwb2lzIERCIGVzdGEgY29uZWN0YWRvIFxyXG4gICAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICAgIH0iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjb25lY3Rhck1vbmdvREIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiY29ubmVjdGlvbnMiLCJyZWFkeVN0YXRlIiwiREJfQ09ORVhBT19TVFJJTkciLCJwcm9jZXNzIiwiZW52Iiwic3RhdHVzIiwianNvbiIsImVycm8iLCJjb25uZWN0aW9uIiwib24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjb25uZWN0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./middlewares/conectarMongoDB.ts\n");

/***/ }),

/***/ "(api-node)/./middlewares/corsMiddleware.ts":
/*!***************************************!*\
  !*** ./middlewares/corsMiddleware.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   corsMiddleware: () => (/* binding */ corsMiddleware)\n/* harmony export */ });\nfunction corsMiddleware(handler) {\n    return async (req, res)=>{\n        // Configurar cabeçalhos CORS\n        const origin = process.env.CORS_ORIGIN || 'http://localhost:3001';\n        res.setHeader('Access-Control-Allow-Origin', origin);\n        res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');\n        res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization, X-Requested-With');\n        res.setHeader('Access-Control-Allow-Credentials', 'true');\n        // Responder imediatamente para requisições OPTIONS (preflight)\n        if (req.method === 'OPTIONS') {\n            return res.status(200).end();\n        }\n        // Passar para o próximo handler\n        return handler(req, res);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21pZGRsZXdhcmVzL2NvcnNNaWRkbGV3YXJlLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFHTyxTQUFTQSxlQUFlQyxPQUF1QjtJQUNwRCxPQUFPLE9BQU9DLEtBQXFCQztRQUNqQyw2QkFBNkI7UUFDN0IsTUFBTUMsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLElBQUk7UUFFMUNKLElBQUlLLFNBQVMsQ0FBQywrQkFBK0JKO1FBQzdDRCxJQUFJSyxTQUFTLENBQUMsZ0NBQWdDO1FBQzlDTCxJQUFJSyxTQUFTLENBQUMsZ0NBQWdDO1FBQzlDTCxJQUFJSyxTQUFTLENBQUMsb0NBQW9DO1FBRWxELCtEQUErRDtRQUMvRCxJQUFJTixJQUFJTyxNQUFNLEtBQUssV0FBVztZQUM1QixPQUFPTixJQUFJTyxNQUFNLENBQUMsS0FBS0MsR0FBRztRQUM1QjtRQUVBLGdDQUFnQztRQUNoQyxPQUFPVixRQUFRQyxLQUFLQztJQUN0QjtBQUNGIiwic291cmNlcyI6WyJDOlxcUHJvamV0b3MgR2l0XFxEZXZhcmlhXFxEZXZhZ3JhbS1Ob2RlXFxtaWRkbGV3YXJlc1xcY29yc01pZGRsZXdhcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlLCBOZXh0QXBpSGFuZGxlciB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHR5cGUgeyByZXNwb3N0YVBhZHJhb01zZyB9IGZyb20gJy4uL3R5cGVzL3Jlc3Bvc3RhUGFkcmFvTXNnJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvcnNNaWRkbGV3YXJlKGhhbmRsZXI6IE5leHRBcGlIYW5kbGVyKSB7XG4gIHJldHVybiBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2U8cmVzcG9zdGFQYWRyYW9Nc2c+KSA9PiB7XG4gICAgLy8gQ29uZmlndXJhciBjYWJlw6dhbGhvcyBDT1JTXG4gICAgY29uc3Qgb3JpZ2luID0gcHJvY2Vzcy5lbnYuQ09SU19PUklHSU4gfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMSc7XG4gICAgXG4gICAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgb3JpZ2luKTtcbiAgICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ0NvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvbiwgWC1SZXF1ZXN0ZWQtV2l0aCcpO1xuICAgIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBcbiAgICAvLyBSZXNwb25kZXIgaW1lZGlhdGFtZW50ZSBwYXJhIHJlcXVpc2nDp8O1ZXMgT1BUSU9OUyAocHJlZmxpZ2h0KVxuICAgIGlmIChyZXEubWV0aG9kID09PSAnT1BUSU9OUycpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuZW5kKCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFBhc3NhciBwYXJhIG8gcHLDs3hpbW8gaGFuZGxlclxuICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcbiAgfTtcbn0iXSwibmFtZXMiOlsiY29yc01pZGRsZXdhcmUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwib3JpZ2luIiwicHJvY2VzcyIsImVudiIsIkNPUlNfT1JJR0lOIiwic2V0SGVhZGVyIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./middlewares/corsMiddleware.ts\n");

/***/ }),

/***/ "(api-node)/./middlewares/validarTokenJWT.ts":
/*!****************************************!*\
  !*** ./middlewares/validarTokenJWT.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validarTokenJWT: () => (/* binding */ validarTokenJWT)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst validarTokenJWT = (handler)=>(req, res)=>{\n        try {\n            const { JWT_SECRET } = process.env;\n            if (!JWT_SECRET) {\n                return res.status(500).json({\n                    erro: 'Chave JWT não configurada no servidor'\n                });\n            }\n            // Permitir requisições OPTIONS para CORS\n            if (req.method === 'OPTIONS') {\n                return handler(req, res);\n            }\n            if (!req || !req.headers) {\n                return res.status(401).json({\n                    erro: 'Não foi possível validar o token de acesso'\n                });\n            }\n            const authorization = req.headers['authorization'];\n            if (!authorization) {\n                return res.status(401).json({\n                    erro: 'Token de autorização não fornecido'\n                });\n            }\n            const token = authorization.substring(7); // Remove 'Bearer ' do início\n            if (!token) {\n                return res.status(401).json({\n                    erro: 'Token de autorização inválido'\n                });\n            }\n            try {\n                // Verifica o token com a chave JWT\n                const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n                if (!req.query) {\n                    req.query = {};\n                }\n                // Extrai o ID do usuário do token e adiciona ao objeto de consulta\n                if (decoded && typeof decoded === 'object') {\n                    if (decoded._id) {\n                        req.query.userId = decoded._id;\n                    } else if (decoded.usuario_id) {\n                        req.query.userId = decoded.usuario_id;\n                    }\n                }\n                // Log para debug\n                console.log('Token validado com sucesso. ID do usuário:', req.query.userId);\n                return handler(req, res);\n            } catch (err) {\n                console.log('Erro ao verificar token JWT:', err);\n                return res.status(401).json({\n                    erro: 'Token inválido ou expirado'\n                });\n            }\n        } catch (e) {\n            console.log('Erro ao validar token JWT:', e);\n            return res.status(500).json({\n                erro: 'Ocorreu erro ao validar o token de acesso'\n            });\n        }\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21pZGRsZXdhcmVzL3ZhbGlkYXJUb2tlbkpXVC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFK0M7QUFFeEMsTUFBTUMsa0JBQWtCLENBQUNDLFVBQzVCLENBQUNDLEtBQXFCQztRQUNsQixJQUFJO1lBQ0EsTUFBTSxFQUFFQyxVQUFVLEVBQUUsR0FBR0MsUUFBUUMsR0FBRztZQUVsQyxJQUFJLENBQUNGLFlBQVk7Z0JBQ2IsT0FBT0QsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTTtnQkFBd0M7WUFDaEY7WUFFQSx5Q0FBeUM7WUFDekMsSUFBSVAsSUFBSVEsTUFBTSxLQUFLLFdBQVc7Z0JBQzFCLE9BQU9ULFFBQVFDLEtBQUtDO1lBQ3hCO1lBRUEsSUFBSSxDQUFDRCxPQUFPLENBQUNBLElBQUlTLE9BQU8sRUFBRTtnQkFDdEIsT0FBT1IsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTTtnQkFBNkM7WUFDckY7WUFFQSxNQUFNRyxnQkFBZ0JWLElBQUlTLE9BQU8sQ0FBQyxnQkFBZ0I7WUFDbEQsSUFBSSxDQUFDQyxlQUFlO2dCQUNoQixPQUFPVCxJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxNQUFNO2dCQUFxQztZQUM3RTtZQUVBLE1BQU1JLFFBQVFELGNBQWNFLFNBQVMsQ0FBQyxJQUFJLDZCQUE2QjtZQUN2RSxJQUFJLENBQUNELE9BQU87Z0JBQ1IsT0FBT1YsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTTtnQkFBZ0M7WUFDeEU7WUFFQSxJQUFJO2dCQUNBLG1DQUFtQztnQkFDbkMsTUFBTU0sVUFBVWhCLDBEQUFVLENBQUNjLE9BQU9UO2dCQUVsQyxJQUFJLENBQUNGLElBQUllLEtBQUssRUFBRTtvQkFDWmYsSUFBSWUsS0FBSyxHQUFHLENBQUM7Z0JBQ2pCO2dCQUVBLG1FQUFtRTtnQkFDbkUsSUFBSUYsV0FBVyxPQUFPQSxZQUFZLFVBQVU7b0JBQ3hDLElBQUlBLFFBQVFHLEdBQUcsRUFBRTt3QkFDYmhCLElBQUllLEtBQUssQ0FBQ0UsTUFBTSxHQUFHSixRQUFRRyxHQUFHO29CQUNsQyxPQUFPLElBQUlILFFBQVFLLFVBQVUsRUFBRTt3QkFDM0JsQixJQUFJZSxLQUFLLENBQUNFLE1BQU0sR0FBR0osUUFBUUssVUFBVTtvQkFDekM7Z0JBQ0o7Z0JBRUEsaUJBQWlCO2dCQUNqQkMsUUFBUUMsR0FBRyxDQUFDLDhDQUE4Q3BCLElBQUllLEtBQUssQ0FBQ0UsTUFBTTtnQkFFMUUsT0FBT2xCLFFBQVFDLEtBQUtDO1lBQ3hCLEVBQUUsT0FBT29CLEtBQUs7Z0JBQ1ZGLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NDO2dCQUM1QyxPQUFPcEIsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTTtnQkFBNkI7WUFDckU7UUFDSixFQUFFLE9BQU9lLEdBQUc7WUFDUkgsUUFBUUMsR0FBRyxDQUFDLDhCQUE4QkU7WUFDMUMsT0FBT3JCLElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE1BQU07WUFBNEM7UUFDcEY7SUFDSixFQUFDIiwic291cmNlcyI6WyJDOlxcUHJvamV0b3MgR2l0XFxEZXZhcmlhXFxEZXZhZ3JhbS1Ob2RlXFxtaWRkbGV3YXJlc1xcdmFsaWRhclRva2VuSldULnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSwgTmV4dEFwaUhhbmRsZXIgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHR5cGUgeyByZXNwb3N0YVBhZHJhb01zZyB9IGZyb20gJy4uL3R5cGVzL3Jlc3Bvc3RhUGFkcmFvTXNnJ1xyXG5pbXBvcnQgand0LCB7IEp3dFBheWxvYWQgfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXJUb2tlbkpXVCA9IChoYW5kbGVyOiBOZXh0QXBpSGFuZGxlcikgPT5cclxuICAgIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZTxyZXNwb3N0YVBhZHJhb01zZz4pID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB7IEpXVF9TRUNSRVQgfSA9IHByb2Nlc3MuZW52O1xyXG5cclxuICAgICAgICAgICAgaWYgKCFKV1RfU0VDUkVUKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvOiAnQ2hhdmUgSldUIG7Do28gY29uZmlndXJhZGEgbm8gc2Vydmlkb3InIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQZXJtaXRpciByZXF1aXNpw6fDtWVzIE9QVElPTlMgcGFyYSBDT1JTXHJcbiAgICAgICAgICAgIGlmIChyZXEubWV0aG9kID09PSAnT1BUSU9OUycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFyZXEgfHwgIXJlcS5oZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvOiAnTsOjbyBmb2kgcG9zc8OtdmVsIHZhbGlkYXIgbyB0b2tlbiBkZSBhY2Vzc28nIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uID0gcmVxLmhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXTtcclxuICAgICAgICAgICAgaWYgKCFhdXRob3JpemF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvOiAnVG9rZW4gZGUgYXV0b3JpemHDp8OjbyBuw6NvIGZvcm5lY2lkbycgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXV0aG9yaXphdGlvbi5zdWJzdHJpbmcoNyk7IC8vIFJlbW92ZSAnQmVhcmVyICcgZG8gaW7DrWNpb1xyXG4gICAgICAgICAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvOiAnVG9rZW4gZGUgYXV0b3JpemHDp8OjbyBpbnbDoWxpZG8nIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZpY2EgbyB0b2tlbiBjb20gYSBjaGF2ZSBKV1RcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyBKd3RQYXlsb2FkO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcS5xdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcS5xdWVyeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWkgbyBJRCBkbyB1c3XDoXJpbyBkbyB0b2tlbiBlIGFkaWNpb25hIGFvIG9iamV0byBkZSBjb25zdWx0YVxyXG4gICAgICAgICAgICAgICAgaWYgKGRlY29kZWQgJiYgdHlwZW9mIGRlY29kZWQgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZWQuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5xdWVyeS51c2VySWQgPSBkZWNvZGVkLl9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRlY29kZWQudXN1YXJpb19pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXEucXVlcnkudXNlcklkID0gZGVjb2RlZC51c3VhcmlvX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBMb2cgcGFyYSBkZWJ1Z1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHZhbGlkYWRvIGNvbSBzdWNlc3NvLiBJRCBkbyB1c3XDoXJpbzonLCByZXEucXVlcnkudXNlcklkKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvIGFvIHZlcmlmaWNhciB0b2tlbiBKV1Q6JywgZXJyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm86ICdUb2tlbiBpbnbDoWxpZG8gb3UgZXhwaXJhZG8nIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJybyBhbyB2YWxpZGFyIHRva2VuIEpXVDonLCBlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJybzogJ09jb3JyZXUgZXJybyBhbyB2YWxpZGFyIG8gdG9rZW4gZGUgYWNlc3NvJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9Il0sIm5hbWVzIjpbImp3dCIsInZhbGlkYXJUb2tlbkpXVCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsInN0YXR1cyIsImpzb24iLCJlcnJvIiwibWV0aG9kIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0b2tlbiIsInN1YnN0cmluZyIsImRlY29kZWQiLCJ2ZXJpZnkiLCJxdWVyeSIsIl9pZCIsInVzZXJJZCIsInVzdWFyaW9faWQiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwiZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./middlewares/validarTokenJWT.ts\n");

/***/ }),

/***/ "(api-node)/./models/PublicacaoModel.ts":
/*!***********************************!*\
  !*** ./models/PublicacaoModel.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicacaoModel: () => (/* binding */ PublicacaoModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst PublicacaoSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    idUsuario: {\n        type: String,\n        required: true\n    },\n    descricao: {\n        type: String,\n        required: true\n    },\n    foto: {\n        type: String,\n        required: true\n    },\n    data: {\n        type: Date,\n        required: true\n    },\n    comentarios: {\n        type: Array,\n        required: true,\n        default: []\n    },\n    likes: {\n        type: Array,\n        required: true,\n        default: []\n    }\n});\nconst PublicacaoModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).publicacoes || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('publicacoes', PublicacaoSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21vZGVscy9QdWJsaWNhY2FvTW9kZWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBRTVDLE1BQU1FLG1CQUFtQixJQUFJRCw0Q0FBTUEsQ0FBQztJQUNoQ0UsV0FBVztRQUFFQyxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDMUNDLFdBQVc7UUFBRUgsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQzFDRSxNQUFNO1FBQUVKLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUNyQ0csTUFBTTtRQUFFTCxNQUFNTTtRQUFNSixVQUFVO0lBQUs7SUFDbkNLLGFBQWE7UUFBRVAsTUFBTVE7UUFBT04sVUFBVTtRQUFNTyxTQUFTLEVBQUU7SUFBQztJQUN4REMsT0FBTztRQUFFVixNQUFNUTtRQUFPTixVQUFVO1FBQU1PLFNBQVMsRUFBRTtJQUFDO0FBQ3REO0FBRU8sTUFBTUUsa0JBQW1CZix3REFBZSxDQUFDaUIsV0FBVyxJQUFJakIscURBQWMsQ0FBQyxlQUFlRSxrQkFBbUIiLCJzb3VyY2VzIjpbIkM6XFxQcm9qZXRvcyBHaXRcXERldmFyaWFcXERldmFncmFtLU5vZGVcXG1vZGVsc1xcUHVibGljYWNhb01vZGVsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFB1YmxpY2FjYW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIGlkVXN1YXJpbzogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBkZXNjcmljYW86IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgZm90bzogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBkYXRhOiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjb21lbnRhcmlvczogeyB0eXBlOiBBcnJheSwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IFtdIH0sXHJcbiAgICBsaWtlczogeyB0eXBlOiBBcnJheSwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IFtdIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFB1YmxpY2FjYW9Nb2RlbCA9IChtb25nb29zZS5tb2RlbHMucHVibGljYWNvZXMgfHwgbW9uZ29vc2UubW9kZWwoJ3B1YmxpY2Fjb2VzJywgUHVibGljYWNhb1NjaGVtYSkpOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlB1YmxpY2FjYW9TY2hlbWEiLCJpZFVzdWFyaW8iLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmljYW8iLCJmb3RvIiwiZGF0YSIsIkRhdGUiLCJjb21lbnRhcmlvcyIsIkFycmF5IiwiZGVmYXVsdCIsImxpa2VzIiwiUHVibGljYWNhb01vZGVsIiwibW9kZWxzIiwicHVibGljYWNvZXMiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./models/PublicacaoModel.ts\n");

/***/ }),

/***/ "(api-node)/./models/SeguidorModel.ts":
/*!*********************************!*\
  !*** ./models/SeguidorModel.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SeguidorModel: () => (/* binding */ SeguidorModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst SeguidorSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    //Quem segue\n    usuarioId: {\n        type: String,\n        require: true\n    },\n    //Quem esta sendo seguido\n    usuarioSeguidoId: {\n        type: String,\n        require: true\n    }\n});\nconst SeguidorModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).seguidores || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('seguidores', SeguidorSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21vZGVscy9TZWd1aWRvck1vZGVsLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QztBQUU1QyxNQUFNRSxpQkFBaUIsSUFBSUQsNENBQU1BLENBQUM7SUFDOUIsWUFBWTtJQUNaRSxXQUFXO1FBQUVDLE1BQU1DO1FBQVFDLFNBQVM7SUFBSztJQUN6Qyx5QkFBeUI7SUFDekJDLGtCQUFrQjtRQUFFSCxNQUFNQztRQUFRQyxTQUFTO0lBQUs7QUFFcEQ7QUFFTyxNQUFNRSxnQkFBaUJSLHdEQUFlLENBQUNVLFVBQVUsSUFDcERWLHFEQUFjLENBQUMsY0FBY0UsZ0JBQWlCIiwic291cmNlcyI6WyJDOlxcUHJvamV0b3MgR2l0XFxEZXZhcmlhXFxEZXZhZ3JhbS1Ob2RlXFxtb2RlbHNcXFNlZ3VpZG9yTW9kZWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgU2VndWlkb3JTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIC8vUXVlbSBzZWd1ZVxyXG4gICAgdXN1YXJpb0lkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZTogdHJ1ZSB9LFxyXG4gICAgLy9RdWVtIGVzdGEgc2VuZG8gc2VndWlkb1xyXG4gICAgdXN1YXJpb1NlZ3VpZG9JZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmU6IHRydWUgfSxcclxuXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNlZ3VpZG9yTW9kZWwgPSAobW9uZ29vc2UubW9kZWxzLnNlZ3VpZG9yZXMgfHxcclxuICAgIG1vbmdvb3NlLm1vZGVsKCdzZWd1aWRvcmVzJywgU2VndWlkb3JTY2hlbWEpKTsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJTZWd1aWRvclNjaGVtYSIsInVzdWFyaW9JZCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlIiwidXN1YXJpb1NlZ3VpZG9JZCIsIlNlZ3VpZG9yTW9kZWwiLCJtb2RlbHMiLCJzZWd1aWRvcmVzIiwibW9kZWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./models/SeguidorModel.ts\n");

/***/ }),

/***/ "(api-node)/./models/UsuarioModel.ts":
/*!********************************!*\
  !*** ./models/UsuarioModel.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UsuarioModel: () => (/* binding */ UsuarioModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UsuarioSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    nome: {\n        type: String,\n        require: true\n    },\n    email: {\n        type: String,\n        require: true\n    },\n    senha: {\n        type: String,\n        require: true\n    },\n    avatar: {\n        type: String,\n        require: false\n    },\n    seguidores: {\n        type: Number,\n        default: 0\n    },\n    seguindo: {\n        type: Number,\n        default: 0\n    },\n    publicacoes: {\n        type: Number,\n        default: 0\n    }\n});\nconst UsuarioModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).usuarios || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('usuarios', UsuarioSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21vZGVscy9Vc3VhcmlvTW9kZWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBRTVDLE1BQU1FLGdCQUFnQixJQUFJRCw0Q0FBTUEsQ0FBQztJQUM3QkUsTUFBTTtRQUFFQyxNQUFNQztRQUFRQyxTQUFTO0lBQUs7SUFDcENDLE9BQU87UUFBRUgsTUFBTUM7UUFBUUMsU0FBUztJQUFLO0lBQ3JDRSxPQUFPO1FBQUVKLE1BQU1DO1FBQVFDLFNBQVM7SUFBSztJQUNyQ0csUUFBUTtRQUFFTCxNQUFNQztRQUFRQyxTQUFTO0lBQU07SUFDdkNJLFlBQVk7UUFBRU4sTUFBTU87UUFBUUMsU0FBUztJQUFFO0lBQ3ZDQyxVQUFVO1FBQUVULE1BQU1PO1FBQVFDLFNBQVM7SUFBRTtJQUNyQ0UsYUFBYTtRQUFFVixNQUFNTztRQUFRQyxTQUFTO0lBQUU7QUFDNUM7QUFFTyxNQUFNRyxlQUFnQmYsd0RBQWUsQ0FBQ2lCLFFBQVEsSUFDakRqQixxREFBYyxDQUFDLFlBQVlFLGVBQWUiLCJzb3VyY2VzIjpbIkM6XFxQcm9qZXRvcyBHaXRcXERldmFyaWFcXERldmFncmFtLU5vZGVcXG1vZGVsc1xcVXN1YXJpb01vZGVsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBVc3VhcmlvU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBub21lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZTogdHJ1ZSB9LFxyXG4gICAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlOiB0cnVlIH0sXHJcbiAgICBzZW5oYTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmU6IHRydWUgfSxcclxuICAgIGF2YXRhcjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmU6IGZhbHNlIH0sXHJcbiAgICBzZWd1aWRvcmVzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxyXG4gICAgc2VndWluZG86IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICBwdWJsaWNhY29lczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgVXN1YXJpb01vZGVsID0gKG1vbmdvb3NlLm1vZGVscy51c3VhcmlvcyB8fFxyXG4gICAgbW9uZ29vc2UubW9kZWwoJ3VzdWFyaW9zJywgVXN1YXJpb1NjaGVtYSkpXHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlVzdWFyaW9TY2hlbWEiLCJub21lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmUiLCJlbWFpbCIsInNlbmhhIiwiYXZhdGFyIiwic2VndWlkb3JlcyIsIk51bWJlciIsImRlZmF1bHQiLCJzZWd1aW5kbyIsInB1YmxpY2Fjb2VzIiwiVXN1YXJpb01vZGVsIiwibW9kZWxzIiwidXN1YXJpb3MiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./models/UsuarioModel.ts\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffeed&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfeed.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffeed&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfeed.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_feed_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\feed.ts */ \"(api-node)/./pages/api/feed.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_feed_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_feed_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/feed\",\n        pathname: \"/api/feed\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_feed_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGZmVlZCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDZmVlZC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUNrRDtBQUNsRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsK0NBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLCtDQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGZlZWQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ZlZWRcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9mZWVkXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffeed&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfeed.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/feed.ts":
/*!***************************!*\
  !*** ./pages/api/feed.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _middlewares_validarTokenJWT__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../middlewares/validarTokenJWT */ \"(api-node)/./middlewares/validarTokenJWT.ts\");\n/* harmony import */ var _middlewares_conectarMongoDB__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../middlewares/conectarMongoDB */ \"(api-node)/./middlewares/conectarMongoDB.ts\");\n/* harmony import */ var _models_UsuarioModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/UsuarioModel */ \"(api-node)/./models/UsuarioModel.ts\");\n/* harmony import */ var _models_PublicacaoModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/PublicacaoModel */ \"(api-node)/./models/PublicacaoModel.ts\");\n/* harmony import */ var _models_SeguidorModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/models/SeguidorModel */ \"(api-node)/./models/SeguidorModel.ts\");\n/* harmony import */ var _middlewares_corsMiddleware__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/middlewares/corsMiddleware */ \"(api-node)/./middlewares/corsMiddleware.ts\");\n\n\n\n\n\n\nconst feedEndPoint = async (req, res)=>{\n    try {\n        if (req.method === 'GET') {\n            // Verificar se o ID do usuário foi fornecido para perfil específico\n            if (req?.query?.id) {\n                try {\n                    const idUsuario = req.query.id;\n                    // Procurar o usuário com o ID fornecido\n                    const usuario = await _models_UsuarioModel__WEBPACK_IMPORTED_MODULE_2__.UsuarioModel.findById(idUsuario);\n                    if (!usuario) {\n                        return res.status(400).json({\n                            erro: 'Usuário não encontrado'\n                        });\n                    }\n                    // Procurar as publicações do usuário (garantindo que o ID seja string)\n                    const usuarioIdStr = usuario._id.toString();\n                    console.log('Feed perfil - ID do usuário (string):', usuarioIdStr);\n                    const publicacoes = await _models_PublicacaoModel__WEBPACK_IMPORTED_MODULE_3__.PublicacaoModel.find({\n                        idUsuario: usuarioIdStr\n                    }).sort({\n                        data: -1\n                    });\n                    // Adicionar informações do usuário a cada publicação\n                    const result = publicacoes.map((publicacao)=>({\n                            ...publicacao._doc,\n                            usuario: {\n                                nome: usuario.nome,\n                                avatar: usuario.avatar\n                            }\n                        }));\n                    return res.status(200).json(result);\n                } catch (error) {\n                    console.log('Erro ao buscar usuário:', error);\n                    return res.status(400).json({\n                        erro: 'ID de usuário inválido'\n                    });\n                }\n            } else {\n                // Feed principal - usuário logado\n                const { userId } = req.query;\n                console.log('Feed - userId da requisição:', userId);\n                if (!userId) {\n                    return res.status(400).json({\n                        erro: 'Usuário não autenticado'\n                    });\n                }\n                try {\n                    console.log('Feed - Buscando usuário com ID:', userId);\n                    const usuarioLogado = await _models_UsuarioModel__WEBPACK_IMPORTED_MODULE_2__.UsuarioModel.findById(userId);\n                    if (!usuarioLogado) {\n                        console.log('Feed - Usuário não encontrado com ID:', userId);\n                        return res.status(400).json({\n                            erro: 'Usuário não encontrado'\n                        });\n                    }\n                    console.log('Feed - Usuário encontrado:', usuarioLogado.nome);\n                    // Buscar seguidores\n                    const seguidores = await _models_SeguidorModel__WEBPACK_IMPORTED_MODULE_4__.SeguidorModel.find({\n                        usuarioId: usuarioLogado._id\n                    });\n                    const seguidoresIds = seguidores.map((s)=>s.usuarioSeguidoId);\n                    // Buscar publicações do usuário e de quem ele segue\n                    // Garantir que a comparação seja feita com strings\n                    const usuarioIdStr = usuarioLogado._id.toString();\n                    const seguidoresIdsStr = seguidoresIds.map((id)=>id.toString());\n                    console.log('Feed - ID do usuário (string):', usuarioIdStr);\n                    console.log('Feed - IDs dos seguidores (string):', seguidoresIdsStr);\n                    const publicacoes = await _models_PublicacaoModel__WEBPACK_IMPORTED_MODULE_3__.PublicacaoModel.find({\n                        $or: [\n                            {\n                                idUsuario: usuarioIdStr\n                            },\n                            {\n                                idUsuario: {\n                                    $in: seguidoresIdsStr\n                                }\n                            }\n                        ]\n                    }).sort({\n                        data: -1\n                    });\n                    // Adicionar informações do usuário a cada publicação\n                    console.log('Feed - Publicações encontradas:', publicacoes.length);\n                    if (publicacoes.length > 0) {\n                        console.log('Feed - Exemplo de publicação:', {\n                            id: publicacoes[0]._id,\n                            idUsuario: publicacoes[0].idUsuario,\n                            tipoIdUsuario: typeof publicacoes[0].idUsuario\n                        });\n                    }\n                    const result = [];\n                    for (const publicacao of publicacoes){\n                        const usuarioDaPublicacao = await _models_UsuarioModel__WEBPACK_IMPORTED_MODULE_2__.UsuarioModel.findById(publicacao.idUsuario);\n                        if (usuarioDaPublicacao) {\n                            const final = {\n                                ...publicacao._doc,\n                                usuario: {\n                                    nome: usuarioDaPublicacao.nome,\n                                    avatar: usuarioDaPublicacao.avatar\n                                }\n                            };\n                            result.push(final);\n                        }\n                    }\n                    return res.status(200).json(result);\n                } catch (error) {\n                    console.log('Erro ao buscar feed:', error);\n                    return res.status(400).json({\n                        erro: 'Erro ao carregar feed'\n                    });\n                }\n            }\n        }\n        return res.status(405).json({\n            erro: 'Método não permitido'\n        });\n    } catch (e) {\n        console.log('Erro no endpoint de feed:', e);\n        return res.status(500).json({\n            erro: 'Erro interno do servidor'\n        });\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middlewares_corsMiddleware__WEBPACK_IMPORTED_MODULE_5__.corsMiddleware)((0,_middlewares_validarTokenJWT__WEBPACK_IMPORTED_MODULE_0__.validarTokenJWT)((0,_middlewares_conectarMongoDB__WEBPACK_IMPORTED_MODULE_1__.conectarMongoDB)(feedEndPoint))));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtZQUNKO1FBQ0o7UUFFQSxPQUFPVCxJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE1BQU07UUFBdUI7SUFDL0QsRUFBRSxPQUFPZ0MsR0FBRztRQUNSNUIsUUFBUUMsR0FBRyxDQUFDLDZCQUE2QjJCO1FBQ3pDLE9BQU96QyxJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE1BQU07UUFBMkI7SUFDbkU7QUFDSjtBQUVBLGlFQUFlWiwyRUFBY0EsQ0FBQ0wsNkVBQWVBLENBQUNDLDZFQUFlQSxDQUFDSyxlQUFlQSxFQUFDIiwic291cmNlcyI6WyJDOlxcUHJvamV0b3MgR2l0XFxEZXZhcmlhXFxEZXZhZ3JhbS1Ob2RlXFxwYWdlc1xcYXBpXFxmZWVkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgdmFsaWRhclRva2VuSldUIH0gZnJvbSAnLi4vLi4vbWlkZGxld2FyZXMvdmFsaWRhclRva2VuSldUJ1xuaW1wb3J0IHsgY29uZWN0YXJNb25nb0RCIH0gZnJvbSAnLi4vLi4vbWlkZGxld2FyZXMvY29uZWN0YXJNb25nb0RCJ1xuaW1wb3J0IHR5cGUgeyByZXNwb3N0YVBhZHJhb01zZyB9IGZyb20gJy4uLy4uL3R5cGVzL3Jlc3Bvc3RhUGFkcmFvTXNnJ1xuaW1wb3J0IHsgVXN1YXJpb01vZGVsIH0gZnJvbSAnLi4vLi4vbW9kZWxzL1VzdWFyaW9Nb2RlbCdcbmltcG9ydCB7IFB1YmxpY2FjYW9Nb2RlbCB9IGZyb20gJy4uLy4uL21vZGVscy9QdWJsaWNhY2FvTW9kZWwnXG5pbXBvcnQgeyBTZWd1aWRvck1vZGVsIH0gZnJvbSAnQC9tb2RlbHMvU2VndWlkb3JNb2RlbCc7XG5pbXBvcnQgeyBjb3JzTWlkZGxld2FyZSB9IGZyb20gJ0AvbWlkZGxld2FyZXMvY29yc01pZGRsZXdhcmUnO1xuXG5jb25zdCBmZWVkRW5kUG9pbnQgPSBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2U8cmVzcG9zdGFQYWRyYW9Nc2c+IHwgYW55KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgICAgICAvLyBWZXJpZmljYXIgc2UgbyBJRCBkbyB1c3XDoXJpbyBmb2kgZm9ybmVjaWRvIHBhcmEgcGVyZmlsIGVzcGVjw61maWNvXG4gICAgICAgICAgICBpZiAocmVxPy5xdWVyeT8uaWQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZFVzdWFyaW8gPSByZXEucXVlcnkuaWQgYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvY3VyYXIgbyB1c3XDoXJpbyBjb20gbyBJRCBmb3JuZWNpZG9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXN1YXJpbyA9IGF3YWl0IFVzdWFyaW9Nb2RlbC5maW5kQnlJZChpZFVzdWFyaW8pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF1c3VhcmlvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvOiAnVXN1w6FyaW8gbsOjbyBlbmNvbnRyYWRvJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2N1cmFyIGFzIHB1YmxpY2HDp8O1ZXMgZG8gdXN1w6FyaW8gKGdhcmFudGluZG8gcXVlIG8gSUQgc2VqYSBzdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzdWFyaW9JZFN0ciA9IHVzdWFyaW8uX2lkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZWVkIHBlcmZpbCAtIElEIGRvIHVzdcOhcmlvIChzdHJpbmcpOicsIHVzdWFyaW9JZFN0cik7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwdWJsaWNhY29lcyA9IGF3YWl0IFB1YmxpY2FjYW9Nb2RlbFxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoeyBpZFVzdWFyaW86IHVzdWFyaW9JZFN0ciB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNvcnQoeyBkYXRhOiAtMSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBZGljaW9uYXIgaW5mb3JtYcOnw7VlcyBkbyB1c3XDoXJpbyBhIGNhZGEgcHVibGljYcOnw6NvXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHB1YmxpY2Fjb2VzLm1hcChwdWJsaWNhY2FvID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wdWJsaWNhY2FvLl9kb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c3VhcmlvOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9tZTogdXN1YXJpby5ub21lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXN1YXJpby5hdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvIGFvIGJ1c2NhciB1c3XDoXJpbzonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm86ICdJRCBkZSB1c3XDoXJpbyBpbnbDoWxpZG8nIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRmVlZCBwcmluY2lwYWwgLSB1c3XDoXJpbyBsb2dhZG9cbiAgICAgICAgICAgICAgICBjb25zdCB7IHVzZXJJZCB9ID0gcmVxLnF1ZXJ5O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZWVkIC0gdXNlcklkIGRhIHJlcXVpc2nDp8OjbzonLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm86ICdVc3XDoXJpbyBuw6NvIGF1dGVudGljYWRvJyB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRmVlZCAtIEJ1c2NhbmRvIHVzdcOhcmlvIGNvbSBJRDonLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c3VhcmlvTG9nYWRvID0gYXdhaXQgVXN1YXJpb01vZGVsLmZpbmRCeUlkKHVzZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIXVzdWFyaW9Mb2dhZG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZWVkIC0gVXN1w6FyaW8gbsOjbyBlbmNvbnRyYWRvIGNvbSBJRDonLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJybzogJ1VzdcOhcmlvIG7Do28gZW5jb250cmFkbycgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZWVkIC0gVXN1w6FyaW8gZW5jb250cmFkbzonLCB1c3VhcmlvTG9nYWRvLm5vbWUpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQnVzY2FyIHNlZ3VpZG9yZXNcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VndWlkb3JlcyA9IGF3YWl0IFNlZ3VpZG9yTW9kZWwuZmluZCh7IHVzdWFyaW9JZDogdXN1YXJpb0xvZ2Fkby5faWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZ3VpZG9yZXNJZHMgPSBzZWd1aWRvcmVzLm1hcChzID0+IHMudXN1YXJpb1NlZ3VpZG9JZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQnVzY2FyIHB1YmxpY2HDp8O1ZXMgZG8gdXN1w6FyaW8gZSBkZSBxdWVtIGVsZSBzZWd1ZVxuICAgICAgICAgICAgICAgICAgICAvLyBHYXJhbnRpciBxdWUgYSBjb21wYXJhw6fDo28gc2VqYSBmZWl0YSBjb20gc3RyaW5nc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c3VhcmlvSWRTdHIgPSB1c3VhcmlvTG9nYWRvLl9pZC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWd1aWRvcmVzSWRzU3RyID0gc2VndWlkb3Jlc0lkcy5tYXAoaWQgPT4gaWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRmVlZCAtIElEIGRvIHVzdcOhcmlvIChzdHJpbmcpOicsIHVzdWFyaW9JZFN0cik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZWVkIC0gSURzIGRvcyBzZWd1aWRvcmVzIChzdHJpbmcpOicsIHNlZ3VpZG9yZXNJZHNTdHIpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHVibGljYWNvZXMgPSBhd2FpdCBQdWJsaWNhY2FvTW9kZWwuZmluZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGlkVXN1YXJpbzogdXN1YXJpb0lkU3RyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpZFVzdWFyaW86IHsgJGluOiBzZWd1aWRvcmVzSWRzU3RyIH0gfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9KS5zb3J0KHsgZGF0YTogLTEgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRpY2lvbmFyIGluZm9ybWHDp8O1ZXMgZG8gdXN1w6FyaW8gYSBjYWRhIHB1YmxpY2HDp8Ojb1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRmVlZCAtIFB1YmxpY2HDp8O1ZXMgZW5jb250cmFkYXM6JywgcHVibGljYWNvZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHB1YmxpY2Fjb2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGZWVkIC0gRXhlbXBsbyBkZSBwdWJsaWNhw6fDo286Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwdWJsaWNhY29lc1swXS5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRVc3VhcmlvOiBwdWJsaWNhY29lc1swXS5pZFVzdWFyaW8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlwb0lkVXN1YXJpbzogdHlwZW9mIHB1YmxpY2Fjb2VzWzBdLmlkVXN1YXJpb1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHB1YmxpY2FjYW8gb2YgcHVibGljYWNvZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzdWFyaW9EYVB1YmxpY2FjYW8gPSBhd2FpdCBVc3VhcmlvTW9kZWwuZmluZEJ5SWQocHVibGljYWNhby5pZFVzdWFyaW8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzdWFyaW9EYVB1YmxpY2FjYW8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHVibGljYWNhby5fZG9jLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXN1YXJpbzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9tZTogdXN1YXJpb0RhUHVibGljYWNhby5ub21lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c3VhcmlvRGFQdWJsaWNhY2FvLmF2YXRhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChmaW5hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJybyBhbyBidXNjYXIgZmVlZDonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm86ICdFcnJvIGFvIGNhcnJlZ2FyIGZlZWQnIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJybzogJ03DqXRvZG8gbsOjbyBwZXJtaXRpZG8nIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm8gbm8gZW5kcG9pbnQgZGUgZmVlZDonLCBlKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJybzogJ0Vycm8gaW50ZXJubyBkbyBzZXJ2aWRvcicgfSk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29yc01pZGRsZXdhcmUodmFsaWRhclRva2VuSldUKGNvbmVjdGFyTW9uZ29EQihmZWVkRW5kUG9pbnQpKSk7Il0sIm5hbWVzIjpbInZhbGlkYXJUb2tlbkpXVCIsImNvbmVjdGFyTW9uZ29EQiIsIlVzdWFyaW9Nb2RlbCIsIlB1YmxpY2FjYW9Nb2RlbCIsIlNlZ3VpZG9yTW9kZWwiLCJjb3JzTWlkZGxld2FyZSIsImZlZWRFbmRQb2ludCIsInJlcSIsInJlcyIsIm1ldGhvZCIsInF1ZXJ5IiwiaWQiLCJpZFVzdWFyaW8iLCJ1c3VhcmlvIiwiZmluZEJ5SWQiLCJzdGF0dXMiLCJqc29uIiwiZXJybyIsInVzdWFyaW9JZFN0ciIsIl9pZCIsInRvU3RyaW5nIiwiY29uc29sZSIsImxvZyIsInB1YmxpY2Fjb2VzIiwiZmluZCIsInNvcnQiLCJkYXRhIiwicmVzdWx0IiwibWFwIiwicHVibGljYWNhbyIsIl9kb2MiLCJub21lIiwiYXZhdGFyIiwiZXJyb3IiLCJ1c2VySWQiLCJ1c3VhcmlvTG9nYWRvIiwic2VndWlkb3JlcyIsInVzdWFyaW9JZCIsInNlZ3VpZG9yZXNJZHMiLCJzIiwidXN1YXJpb1NlZ3VpZG9JZCIsInNlZ3VpZG9yZXNJZHNTdHIiLCIkb3IiLCIkaW4iLCJsZW5ndGgiLCJ0aXBvSWRVc3VhcmlvIiwidXN1YXJpb0RhUHVibGljYWNhbyIsImZpbmFsIiwicHVzaCIsImUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/feed.ts\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffeed&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfeed.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();