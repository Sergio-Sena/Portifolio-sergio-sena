"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/publicacaoSimples";
exports.ids = ["pages/api/publicacaoSimples"];
exports.modules = {

/***/ "(api-node)/./middlewares/conectarMongoDB.ts":
/*!****************************************!*\
  !*** ./middlewares/conectarMongoDB.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   conectarMongoDB: () => (/* binding */ conectarMongoDB)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst conectarMongoDB = (handler)=>async (req, res)=>{\n        //verificar se o banco esta conectado. Se estiver seguir para endPoint\n        // ou proximo middleware\n        if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections)[0].readyState) {\n            return handler(req, res);\n        }\n        ;\n        // ja que não está conectado seguir para conexão\n        //Obter a variavel preenchida do ENV\n        const { DB_CONEXAO_STRING } = process.env;\n        //Se a env estiver vazia aborta o uso do sistema e informa o Desenvolvedor\n        if (!DB_CONEXAO_STRING) {\n            return res.status(500).json({\n                erro: \"Erro interno de sistema, informa o DBA\"\n            });\n        }\n        mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on('connected', ()=>console.log(\"Banco de dados conectado!\"));\n        mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.on('erro', (error)=>console.log(`Ocorreu erro ao conectar o Banco de dados: ${error}`));\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(DB_CONEXAO_STRING);\n        //Agora pode seguir para endPoint, pois DB esta conectado \n        return handler(req, res);\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21pZGRsZXdhcmVzL2NvbmVjdGFyTW9uZ29EQi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDK0I7QUFHeEIsTUFBTUMsa0JBQWtCLENBQUNDLFVBQzVCLE9BQU9DLEtBQXFCQztRQUV4QixzRUFBc0U7UUFDdEUsd0JBQXdCO1FBQ3hCLElBQUlKLDZEQUFvQixDQUFDLEVBQUUsQ0FBQ00sVUFBVSxFQUFFO1lBQ3BDLE9BQU9KLFFBQVFDLEtBQUtDO1FBQ3hCOztRQUVBLGdEQUFnRDtRQUNoRCxvQ0FBb0M7UUFDcEMsTUFBTSxFQUFFRyxpQkFBaUIsRUFBRSxHQUFHQyxRQUFRQyxHQUFHO1FBQ3pDLDBFQUEwRTtRQUMxRSxJQUFJLENBQUNGLG1CQUFtQjtZQUNwQixPQUFPSCxJQUFJTSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxNQUFNO1lBQXlDO1FBQ2pGO1FBQ0FaLDBEQUFtQixDQUFDYyxFQUFFLENBQUMsYUFBYSxJQUFNQyxRQUFRQyxHQUFHLENBQUM7UUFDdERoQiwwREFBbUIsQ0FBQ2MsRUFBRSxDQUFDLFFBQVFHLENBQUFBLFFBQVNGLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDJDQUEyQyxFQUFFQyxPQUFPO1FBQ3pHLE1BQU1qQix1REFBZ0IsQ0FBQ087UUFDdkIsMERBQTBEO1FBQzFELE9BQU9MLFFBQVFDLEtBQUtDO0lBQ3hCLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxQcm9qZXRvcyBHaXRcXERldmFyaWFcXERldmFncmFtLU5vZGVcXG1pZGRsZXdhcmVzXFxjb25lY3Rhck1vbmdvREIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlLCBOZXh0QXBpSGFuZGxlciB9IGZyb20gJ25leHQnXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IHR5cGUgeyByZXNwb3N0YVBhZHJhb01zZyB9IGZyb20gJy4uL3R5cGVzL3Jlc3Bvc3RhUGFkcmFvTXNnJztcclxuXHJcbmV4cG9ydCBjb25zdCBjb25lY3Rhck1vbmdvREIgPSAoaGFuZGxlcjogTmV4dEFwaUhhbmRsZXIpID0+XHJcbiAgICBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2U8cmVzcG9zdGFQYWRyYW9Nc2c+KSA9PiB7XHJcblxyXG4gICAgICAgIC8vdmVyaWZpY2FyIHNlIG8gYmFuY28gZXN0YSBjb25lY3RhZG8uIFNlIGVzdGl2ZXIgc2VndWlyIHBhcmEgZW5kUG9pbnRcclxuICAgICAgICAvLyBvdSBwcm94aW1vIG1pZGRsZXdhcmVcclxuICAgICAgICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbnNbMF0ucmVhZHlTdGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gamEgcXVlIG7Do28gZXN0w6EgY29uZWN0YWRvIHNlZ3VpciBwYXJhIGNvbmV4w6NvXHJcbiAgICAgICAgLy9PYnRlciBhIHZhcmlhdmVsIHByZWVuY2hpZGEgZG8gRU5WXHJcbiAgICAgICAgY29uc3QgeyBEQl9DT05FWEFPX1NUUklORyB9ID0gcHJvY2Vzcy5lbnZcclxuICAgICAgICAvL1NlIGEgZW52IGVzdGl2ZXIgdmF6aWEgYWJvcnRhIG8gdXNvIGRvIHNpc3RlbWEgZSBpbmZvcm1hIG8gRGVzZW52b2x2ZWRvclxyXG4gICAgICAgIGlmICghREJfQ09ORVhBT19TVFJJTkcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJybzogXCJFcnJvIGludGVybm8gZGUgc2lzdGVtYSwgaW5mb3JtYSBvIERCQVwiIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Nvbm5lY3RlZCcsICgpID0+IGNvbnNvbGUubG9nKFwiQmFuY28gZGUgZGFkb3MgY29uZWN0YWRvIVwiKSk7XHJcbiAgICAgICAgbW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJybycsIGVycm9yID0+IGNvbnNvbGUubG9nKGBPY29ycmV1IGVycm8gYW8gY29uZWN0YXIgbyBCYW5jbyBkZSBkYWRvczogJHtlcnJvcn1gKSk7XHJcbiAgICAgICAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChEQl9DT05FWEFPX1NUUklORyk7XHJcbiAgICAgICAgLy9BZ29yYSBwb2RlIHNlZ3VpciBwYXJhIGVuZFBvaW50LCBwb2lzIERCIGVzdGEgY29uZWN0YWRvIFxyXG4gICAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICAgIH0iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjb25lY3Rhck1vbmdvREIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiY29ubmVjdGlvbnMiLCJyZWFkeVN0YXRlIiwiREJfQ09ORVhBT19TVFJJTkciLCJwcm9jZXNzIiwiZW52Iiwic3RhdHVzIiwianNvbiIsImVycm8iLCJjb25uZWN0aW9uIiwib24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJjb25uZWN0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./middlewares/conectarMongoDB.ts\n");

/***/ }),

/***/ "(api-node)/./middlewares/politicaCORS.ts":
/*!*************************************!*\
  !*** ./middlewares/politicaCORS.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   politicaCORS: () => (/* binding */ politicaCORS)\n/* harmony export */ });\n/* harmony import */ var nextjs_cors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nextjs-cors */ \"nextjs-cors\");\n/* harmony import */ var nextjs_cors__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nextjs_cors__WEBPACK_IMPORTED_MODULE_0__);\n\nconst politicaCORS = (handler)=>async (req, res)=>{\n        try {\n            // Obter a origem da requisição do ambiente ou usar localhost:3001 como padrão\n            const corsOrigin = process.env.CORS_ORIGIN || 'http://localhost:3001';\n            // Configurar CORS para permitir a origem específica\n            await nextjs_cors__WEBPACK_IMPORTED_MODULE_0___default()(req, res, {\n                origin: corsOrigin,\n                methods: [\n                    'GET',\n                    'POST',\n                    'PUT',\n                    'DELETE',\n                    'OPTIONS'\n                ],\n                credentials: true,\n                optionsSuccessStatus: 200,\n                allowedHeaders: [\n                    'Content-Type',\n                    'Authorization',\n                    'X-Requested-With'\n                ]\n            });\n            return await handler(req, res);\n        } catch (e) {\n            console.log('Erro ao tratar politica CORS:', e);\n            return res.status(500).json({\n                erro: 'Erro ao tratar Politica de CORS.'\n            });\n        }\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21pZGRsZXdhcmVzL3BvbGl0aWNhQ09SUy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFbUM7QUFFNUIsTUFBTUMsZUFBZSxDQUFDQyxVQUN6QixPQUNJQyxLQUFxQkM7UUFFckIsSUFBSTtZQUNBLDhFQUE4RTtZQUM5RSxNQUFNQyxhQUFhQyxRQUFRQyxHQUFHLENBQUNDLFdBQVcsSUFBSTtZQUU5QyxvREFBb0Q7WUFDcEQsTUFBTVIsa0RBQVFBLENBQUNHLEtBQUtDLEtBQUs7Z0JBQ3JCSyxRQUFRSjtnQkFDUkssU0FBUztvQkFBQztvQkFBTztvQkFBUTtvQkFBTztvQkFBVTtpQkFBVTtnQkFDcERDLGFBQWE7Z0JBQ2JDLHNCQUFzQjtnQkFDdEJDLGdCQUFnQjtvQkFBQztvQkFBZ0I7b0JBQWlCO2lCQUFtQjtZQUN6RTtZQUVBLE9BQU8sTUFBTVgsUUFBUUMsS0FBS0M7UUFDOUIsRUFBRSxPQUFPVSxHQUFHO1lBQ1JDLFFBQVFDLEdBQUcsQ0FBQyxpQ0FBaUNGO1lBQzdDLE9BQU9WLElBQUlhLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE1BQU07WUFBbUM7UUFDM0U7SUFDSixFQUFFIiwic291cmNlcyI6WyJDOlxcUHJvamV0b3MgR2l0XFxEZXZhcmlhXFxEZXZhZ3JhbS1Ob2RlXFxtaWRkbGV3YXJlc1xccG9saXRpY2FDT1JTLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSwgTmV4dEFwaUhhbmRsZXIgfSBmcm9tICduZXh0JztcbmltcG9ydCB0eXBlIHsgcmVzcG9zdGFQYWRyYW9Nc2cgfSBmcm9tICcuLi90eXBlcy9yZXNwb3N0YVBhZHJhb01zZydcbmltcG9ydCBOZXh0Q29ycyBmcm9tICduZXh0anMtY29ycyc7XG5cbmV4cG9ydCBjb25zdCBwb2xpdGljYUNPUlMgPSAoaGFuZGxlcjogTmV4dEFwaUhhbmRsZXIpID0+XG4gICAgYXN5bmMgKFxuICAgICAgICByZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZTxyZXNwb3N0YVBhZHJhb01zZz5cbiAgICApID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIE9idGVyIGEgb3JpZ2VtIGRhIHJlcXVpc2nDp8OjbyBkbyBhbWJpZW50ZSBvdSB1c2FyIGxvY2FsaG9zdDozMDAxIGNvbW8gcGFkcsOjb1xuICAgICAgICAgICAgY29uc3QgY29yc09yaWdpbiA9IHByb2Nlc3MuZW52LkNPUlNfT1JJR0lOIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDEnO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDb25maWd1cmFyIENPUlMgcGFyYSBwZXJtaXRpciBhIG9yaWdlbSBlc3BlY8OtZmljYVxuICAgICAgICAgICAgYXdhaXQgTmV4dENvcnMocmVxLCByZXMsIHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IGNvcnNPcmlnaW4sXG4gICAgICAgICAgICAgICAgbWV0aG9kczogWydHRVQnLCAnUE9TVCcsICdQVVQnLCAnREVMRVRFJywgJ09QVElPTlMnXSxcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zU3VjY2Vzc1N0YXR1czogMjAwLCAvLyBQYXJhIG5hdmVnYWRvcmVzIGFudGlnb3MgcXVlIHJldG9ybmFtIDIwNFxuICAgICAgICAgICAgICAgIGFsbG93ZWRIZWFkZXJzOiBbJ0NvbnRlbnQtVHlwZScsICdBdXRob3JpemF0aW9uJywgJ1gtUmVxdWVzdGVkLVdpdGgnXVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVyKHJlcSwgcmVzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm8gYW8gdHJhdGFyIHBvbGl0aWNhIENPUlM6JywgZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvOiAnRXJybyBhbyB0cmF0YXIgUG9saXRpY2EgZGUgQ09SUy4nIH0pO1xuICAgICAgICB9XG4gICAgfTsiXSwibmFtZXMiOlsiTmV4dENvcnMiLCJwb2xpdGljYUNPUlMiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiY29yc09yaWdpbiIsInByb2Nlc3MiLCJlbnYiLCJDT1JTX09SSUdJTiIsIm9yaWdpbiIsIm1ldGhvZHMiLCJjcmVkZW50aWFscyIsIm9wdGlvbnNTdWNjZXNzU3RhdHVzIiwiYWxsb3dlZEhlYWRlcnMiLCJlIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImpzb24iLCJlcnJvIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./middlewares/politicaCORS.ts\n");

/***/ }),

/***/ "(api-node)/./middlewares/validarTokenJWT.ts":
/*!****************************************!*\
  !*** ./middlewares/validarTokenJWT.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validarTokenJWT: () => (/* binding */ validarTokenJWT)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst validarTokenJWT = (handler)=>(req, res)=>{\n        try {\n            const { JWT_SECRET } = process.env;\n            if (!JWT_SECRET) {\n                return res.status(500).json({\n                    erro: 'Chave JWT não configurada no servidor'\n                });\n            }\n            // Permitir requisições OPTIONS para CORS\n            if (req.method === 'OPTIONS') {\n                return handler(req, res);\n            }\n            if (!req || !req.headers) {\n                return res.status(401).json({\n                    erro: 'Não foi possível validar o token de acesso'\n                });\n            }\n            const authorization = req.headers['authorization'];\n            if (!authorization) {\n                return res.status(401).json({\n                    erro: 'Token de autorização não fornecido'\n                });\n            }\n            const token = authorization.substring(7); // Remove 'Bearer ' do início\n            if (!token) {\n                return res.status(401).json({\n                    erro: 'Token de autorização inválido'\n                });\n            }\n            try {\n                // Verifica o token com a chave JWT\n                const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n                if (!req.query) {\n                    req.query = {};\n                }\n                // Extrai o ID do usuário do token e adiciona ao objeto de consulta\n                if (decoded && typeof decoded === 'object') {\n                    if (decoded._id) {\n                        req.query.userId = decoded._id;\n                    } else if (decoded.usuario_id) {\n                        req.query.userId = decoded.usuario_id;\n                    }\n                }\n                // Log para debug\n                console.log('Token validado com sucesso. ID do usuário:', req.query.userId);\n                return handler(req, res);\n            } catch (err) {\n                console.log('Erro ao verificar token JWT:', err);\n                return res.status(401).json({\n                    erro: 'Token inválido ou expirado'\n                });\n            }\n        } catch (e) {\n            console.log('Erro ao validar token JWT:', e);\n            return res.status(500).json({\n                erro: 'Ocorreu erro ao validar o token de acesso'\n            });\n        }\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21pZGRsZXdhcmVzL3ZhbGlkYXJUb2tlbkpXVC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFK0M7QUFFeEMsTUFBTUMsa0JBQWtCLENBQUNDLFVBQzVCLENBQUNDLEtBQXFCQztRQUNsQixJQUFJO1lBQ0EsTUFBTSxFQUFFQyxVQUFVLEVBQUUsR0FBR0MsUUFBUUMsR0FBRztZQUVsQyxJQUFJLENBQUNGLFlBQVk7Z0JBQ2IsT0FBT0QsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTTtnQkFBd0M7WUFDaEY7WUFFQSx5Q0FBeUM7WUFDekMsSUFBSVAsSUFBSVEsTUFBTSxLQUFLLFdBQVc7Z0JBQzFCLE9BQU9ULFFBQVFDLEtBQUtDO1lBQ3hCO1lBRUEsSUFBSSxDQUFDRCxPQUFPLENBQUNBLElBQUlTLE9BQU8sRUFBRTtnQkFDdEIsT0FBT1IsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTTtnQkFBNkM7WUFDckY7WUFFQSxNQUFNRyxnQkFBZ0JWLElBQUlTLE9BQU8sQ0FBQyxnQkFBZ0I7WUFDbEQsSUFBSSxDQUFDQyxlQUFlO2dCQUNoQixPQUFPVCxJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxNQUFNO2dCQUFxQztZQUM3RTtZQUVBLE1BQU1JLFFBQVFELGNBQWNFLFNBQVMsQ0FBQyxJQUFJLDZCQUE2QjtZQUN2RSxJQUFJLENBQUNELE9BQU87Z0JBQ1IsT0FBT1YsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTTtnQkFBZ0M7WUFDeEU7WUFFQSxJQUFJO2dCQUNBLG1DQUFtQztnQkFDbkMsTUFBTU0sVUFBVWhCLDBEQUFVLENBQUNjLE9BQU9UO2dCQUVsQyxJQUFJLENBQUNGLElBQUllLEtBQUssRUFBRTtvQkFDWmYsSUFBSWUsS0FBSyxHQUFHLENBQUM7Z0JBQ2pCO2dCQUVBLG1FQUFtRTtnQkFDbkUsSUFBSUYsV0FBVyxPQUFPQSxZQUFZLFVBQVU7b0JBQ3hDLElBQUlBLFFBQVFHLEdBQUcsRUFBRTt3QkFDYmhCLElBQUllLEtBQUssQ0FBQ0UsTUFBTSxHQUFHSixRQUFRRyxHQUFHO29CQUNsQyxPQUFPLElBQUlILFFBQVFLLFVBQVUsRUFBRTt3QkFDM0JsQixJQUFJZSxLQUFLLENBQUNFLE1BQU0sR0FBR0osUUFBUUssVUFBVTtvQkFDekM7Z0JBQ0o7Z0JBRUEsaUJBQWlCO2dCQUNqQkMsUUFBUUMsR0FBRyxDQUFDLDhDQUE4Q3BCLElBQUllLEtBQUssQ0FBQ0UsTUFBTTtnQkFFMUUsT0FBT2xCLFFBQVFDLEtBQUtDO1lBQ3hCLEVBQUUsT0FBT29CLEtBQUs7Z0JBQ1ZGLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NDO2dCQUM1QyxPQUFPcEIsSUFBSUksTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsTUFBTTtnQkFBNkI7WUFDckU7UUFDSixFQUFFLE9BQU9lLEdBQUc7WUFDUkgsUUFBUUMsR0FBRyxDQUFDLDhCQUE4QkU7WUFDMUMsT0FBT3JCLElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE1BQU07WUFBNEM7UUFDcEY7SUFDSixFQUFDIiwic291cmNlcyI6WyJDOlxcUHJvamV0b3MgR2l0XFxEZXZhcmlhXFxEZXZhZ3JhbS1Ob2RlXFxtaWRkbGV3YXJlc1xcdmFsaWRhclRva2VuSldULnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSwgTmV4dEFwaUhhbmRsZXIgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHR5cGUgeyByZXNwb3N0YVBhZHJhb01zZyB9IGZyb20gJy4uL3R5cGVzL3Jlc3Bvc3RhUGFkcmFvTXNnJ1xyXG5pbXBvcnQgand0LCB7IEp3dFBheWxvYWQgfSBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXJUb2tlbkpXVCA9IChoYW5kbGVyOiBOZXh0QXBpSGFuZGxlcikgPT5cclxuICAgIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZTxyZXNwb3N0YVBhZHJhb01zZz4pID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB7IEpXVF9TRUNSRVQgfSA9IHByb2Nlc3MuZW52O1xyXG5cclxuICAgICAgICAgICAgaWYgKCFKV1RfU0VDUkVUKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvOiAnQ2hhdmUgSldUIG7Do28gY29uZmlndXJhZGEgbm8gc2Vydmlkb3InIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQZXJtaXRpciByZXF1aXNpw6fDtWVzIE9QVElPTlMgcGFyYSBDT1JTXHJcbiAgICAgICAgICAgIGlmIChyZXEubWV0aG9kID09PSAnT1BUSU9OUycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFyZXEgfHwgIXJlcS5oZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvOiAnTsOjbyBmb2kgcG9zc8OtdmVsIHZhbGlkYXIgbyB0b2tlbiBkZSBhY2Vzc28nIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uID0gcmVxLmhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXTtcclxuICAgICAgICAgICAgaWYgKCFhdXRob3JpemF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvOiAnVG9rZW4gZGUgYXV0b3JpemHDp8OjbyBuw6NvIGZvcm5lY2lkbycgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXV0aG9yaXphdGlvbi5zdWJzdHJpbmcoNyk7IC8vIFJlbW92ZSAnQmVhcmVyICcgZG8gaW7DrWNpb1xyXG4gICAgICAgICAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvOiAnVG9rZW4gZGUgYXV0b3JpemHDp8OjbyBpbnbDoWxpZG8nIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZpY2EgbyB0b2tlbiBjb20gYSBjaGF2ZSBKV1RcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyBKd3RQYXlsb2FkO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlcS5xdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcS5xdWVyeSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWkgbyBJRCBkbyB1c3XDoXJpbyBkbyB0b2tlbiBlIGFkaWNpb25hIGFvIG9iamV0byBkZSBjb25zdWx0YVxyXG4gICAgICAgICAgICAgICAgaWYgKGRlY29kZWQgJiYgdHlwZW9mIGRlY29kZWQgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZWQuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5xdWVyeS51c2VySWQgPSBkZWNvZGVkLl9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRlY29kZWQudXN1YXJpb19pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXEucXVlcnkudXNlcklkID0gZGVjb2RlZC51c3VhcmlvX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBMb2cgcGFyYSBkZWJ1Z1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHZhbGlkYWRvIGNvbSBzdWNlc3NvLiBJRCBkbyB1c3XDoXJpbzonLCByZXEucXVlcnkudXNlcklkKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvIGFvIHZlcmlmaWNhciB0b2tlbiBKV1Q6JywgZXJyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm86ICdUb2tlbiBpbnbDoWxpZG8gb3UgZXhwaXJhZG8nIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJybyBhbyB2YWxpZGFyIHRva2VuIEpXVDonLCBlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJybzogJ09jb3JyZXUgZXJybyBhbyB2YWxpZGFyIG8gdG9rZW4gZGUgYWNlc3NvJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9Il0sIm5hbWVzIjpbImp3dCIsInZhbGlkYXJUb2tlbkpXVCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsInN0YXR1cyIsImpzb24iLCJlcnJvIiwibWV0aG9kIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0b2tlbiIsInN1YnN0cmluZyIsImRlY29kZWQiLCJ2ZXJpZnkiLCJxdWVyeSIsIl9pZCIsInVzZXJJZCIsInVzdWFyaW9faWQiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwiZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./middlewares/validarTokenJWT.ts\n");

/***/ }),

/***/ "(api-node)/./models/PublicacaoModel.ts":
/*!***********************************!*\
  !*** ./models/PublicacaoModel.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicacaoModel: () => (/* binding */ PublicacaoModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst PublicacaoSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    idUsuario: {\n        type: String,\n        required: true\n    },\n    descricao: {\n        type: String,\n        required: true\n    },\n    foto: {\n        type: String,\n        required: true\n    },\n    data: {\n        type: Date,\n        required: true\n    },\n    comentarios: {\n        type: Array,\n        required: true,\n        default: []\n    },\n    likes: {\n        type: Array,\n        required: true,\n        default: []\n    }\n});\nconst PublicacaoModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).publicacoes || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('publicacoes', PublicacaoSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21vZGVscy9QdWJsaWNhY2FvTW9kZWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBRTVDLE1BQU1FLG1CQUFtQixJQUFJRCw0Q0FBTUEsQ0FBQztJQUNoQ0UsV0FBVztRQUFFQyxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDMUNDLFdBQVc7UUFBRUgsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQzFDRSxNQUFNO1FBQUVKLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUNyQ0csTUFBTTtRQUFFTCxNQUFNTTtRQUFNSixVQUFVO0lBQUs7SUFDbkNLLGFBQWE7UUFBRVAsTUFBTVE7UUFBT04sVUFBVTtRQUFNTyxTQUFTLEVBQUU7SUFBQztJQUN4REMsT0FBTztRQUFFVixNQUFNUTtRQUFPTixVQUFVO1FBQU1PLFNBQVMsRUFBRTtJQUFDO0FBQ3REO0FBRU8sTUFBTUUsa0JBQW1CZix3REFBZSxDQUFDaUIsV0FBVyxJQUFJakIscURBQWMsQ0FBQyxlQUFlRSxrQkFBbUIiLCJzb3VyY2VzIjpbIkM6XFxQcm9qZXRvcyBHaXRcXERldmFyaWFcXERldmFncmFtLU5vZGVcXG1vZGVsc1xcUHVibGljYWNhb01vZGVsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFB1YmxpY2FjYW9TY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIGlkVXN1YXJpbzogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBkZXNjcmljYW86IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgZm90bzogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBkYXRhOiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjb21lbnRhcmlvczogeyB0eXBlOiBBcnJheSwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IFtdIH0sXHJcbiAgICBsaWtlczogeyB0eXBlOiBBcnJheSwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IFtdIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFB1YmxpY2FjYW9Nb2RlbCA9IChtb25nb29zZS5tb2RlbHMucHVibGljYWNvZXMgfHwgbW9uZ29vc2UubW9kZWwoJ3B1YmxpY2Fjb2VzJywgUHVibGljYWNhb1NjaGVtYSkpOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlB1YmxpY2FjYW9TY2hlbWEiLCJpZFVzdWFyaW8iLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJkZXNjcmljYW8iLCJmb3RvIiwiZGF0YSIsIkRhdGUiLCJjb21lbnRhcmlvcyIsIkFycmF5IiwiZGVmYXVsdCIsImxpa2VzIiwiUHVibGljYWNhb01vZGVsIiwibW9kZWxzIiwicHVibGljYWNvZXMiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./models/PublicacaoModel.ts\n");

/***/ }),

/***/ "(api-node)/./models/UsuarioModel.ts":
/*!********************************!*\
  !*** ./models/UsuarioModel.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UsuarioModel: () => (/* binding */ UsuarioModel)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UsuarioSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    nome: {\n        type: String,\n        require: true\n    },\n    email: {\n        type: String,\n        require: true\n    },\n    senha: {\n        type: String,\n        require: true\n    },\n    avatar: {\n        type: String,\n        require: false\n    },\n    seguidores: {\n        type: Number,\n        default: 0\n    },\n    seguindo: {\n        type: Number,\n        default: 0\n    },\n    publicacoes: {\n        type: Number,\n        default: 0\n    }\n});\nconst UsuarioModel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).usuarios || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('usuarios', UsuarioSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL21vZGVscy9Vc3VhcmlvTW9kZWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBRTVDLE1BQU1FLGdCQUFnQixJQUFJRCw0Q0FBTUEsQ0FBQztJQUM3QkUsTUFBTTtRQUFFQyxNQUFNQztRQUFRQyxTQUFTO0lBQUs7SUFDcENDLE9BQU87UUFBRUgsTUFBTUM7UUFBUUMsU0FBUztJQUFLO0lBQ3JDRSxPQUFPO1FBQUVKLE1BQU1DO1FBQVFDLFNBQVM7SUFBSztJQUNyQ0csUUFBUTtRQUFFTCxNQUFNQztRQUFRQyxTQUFTO0lBQU07SUFDdkNJLFlBQVk7UUFBRU4sTUFBTU87UUFBUUMsU0FBUztJQUFFO0lBQ3ZDQyxVQUFVO1FBQUVULE1BQU1PO1FBQVFDLFNBQVM7SUFBRTtJQUNyQ0UsYUFBYTtRQUFFVixNQUFNTztRQUFRQyxTQUFTO0lBQUU7QUFDNUM7QUFFTyxNQUFNRyxlQUFnQmYsd0RBQWUsQ0FBQ2lCLFFBQVEsSUFDakRqQixxREFBYyxDQUFDLFlBQVlFLGVBQWUiLCJzb3VyY2VzIjpbIkM6XFxQcm9qZXRvcyBHaXRcXERldmFyaWFcXERldmFncmFtLU5vZGVcXG1vZGVsc1xcVXN1YXJpb01vZGVsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBVc3VhcmlvU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBub21lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZTogdHJ1ZSB9LFxyXG4gICAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlOiB0cnVlIH0sXHJcbiAgICBzZW5oYTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmU6IHRydWUgfSxcclxuICAgIGF2YXRhcjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmU6IGZhbHNlIH0sXHJcbiAgICBzZWd1aWRvcmVzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxyXG4gICAgc2VndWluZG86IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICBwdWJsaWNhY29lczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgVXN1YXJpb01vZGVsID0gKG1vbmdvb3NlLm1vZGVscy51c3VhcmlvcyB8fFxyXG4gICAgbW9uZ29vc2UubW9kZWwoJ3VzdWFyaW9zJywgVXN1YXJpb1NjaGVtYSkpXHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlVzdWFyaW9TY2hlbWEiLCJub21lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmUiLCJlbWFpbCIsInNlbmhhIiwiYXZhdGFyIiwic2VndWlkb3JlcyIsIk51bWJlciIsImRlZmF1bHQiLCJzZWd1aW5kbyIsInB1YmxpY2Fjb2VzIiwiVXN1YXJpb01vZGVsIiwibW9kZWxzIiwidXN1YXJpb3MiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./models/UsuarioModel.ts\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FpublicacaoSimples&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CpublicacaoSimples.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FpublicacaoSimples&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CpublicacaoSimples.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_publicacaoSimples_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\publicacaoSimples.ts */ \"(api-node)/./pages/api/publicacaoSimples.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_publicacaoSimples_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_publicacaoSimples_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_publicacaoSimples_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_publicacaoSimples_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/publicacaoSimples\",\n        pathname: \"/api/publicacaoSimples\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_publicacaoSimples_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGcHVibGljYWNhb1NpbXBsZXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3B1YmxpY2FjYW9TaW1wbGVzLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQytEO0FBQy9EO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw0REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsNERBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxccHVibGljYWNhb1NpbXBsZXMudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3B1YmxpY2FjYW9TaW1wbGVzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHVibGljYWNhb1NpbXBsZXNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FpublicacaoSimples&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CpublicacaoSimples.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/publicacaoSimples.ts":
/*!****************************************!*\
  !*** ./pages/api/publicacaoSimples.ts ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_connect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-connect */ \"next-connect\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _middlewares_conectarMongoDB__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../middlewares/conectarMongoDB */ \"(api-node)/./middlewares/conectarMongoDB.ts\");\n/* harmony import */ var _middlewares_validarTokenJWT__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../middlewares/validarTokenJWT */ \"(api-node)/./middlewares/validarTokenJWT.ts\");\n/* harmony import */ var _models_PublicacaoModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/PublicacaoModel */ \"(api-node)/./models/PublicacaoModel.ts\");\n/* harmony import */ var _models_UsuarioModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../models/UsuarioModel */ \"(api-node)/./models/UsuarioModel.ts\");\n/* harmony import */ var _middlewares_politicaCORS__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/middlewares/politicaCORS */ \"(api-node)/./middlewares/politicaCORS.ts\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _services_redimensionarImagem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../services/redimensionarImagem */ \"(api-node)/./services/redimensionarImagem.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([next_connect__WEBPACK_IMPORTED_MODULE_0__]);\nnext_connect__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n// Configuração do multer para upload de arquivos\nconst storage = multer__WEBPACK_IMPORTED_MODULE_1___default().memoryStorage();\nconst upload = multer__WEBPACK_IMPORTED_MODULE_1___default()({\n    storage: storage\n});\n// Configuração do cliente S3\nconst s3Client = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_7__.S3Client({\n    region: process.env.AWS_REGION || 'us-east-1',\n    credentials: {\n        accessKeyId: process.env.AWS_ACCESS_KEY_ID || '',\n        secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY || ''\n    }\n});\n// Handler para requisições POST (com upload de arquivo)\nconst handlerPost = (0,next_connect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])().use(upload.single('file')).post(async (req, res)=>{\n    try {\n        console.log('Iniciando publicação simplificada com redimensionamento...');\n        const { userId } = req.query;\n        const usuario = await _models_UsuarioModel__WEBPACK_IMPORTED_MODULE_5__.UsuarioModel.findById(userId);\n        if (!usuario) {\n            return res.status(400).json({\n                erro: 'Usuário não encontrado'\n            });\n        }\n        if (!req || !req.body) {\n            return res.status(400).json({\n                erro: 'Parâmetros de entrada não informados'\n            });\n        }\n        const { descricao } = req.body;\n        if (!descricao || descricao.length < 3) {\n            return res.status(400).json({\n                erro: 'Descrição não é válida'\n            });\n        }\n        if (!req.file || !req.file.originalname) {\n            return res.status(400).json({\n                erro: 'A imagem é obrigatória'\n            });\n        }\n        console.log('Arquivo recebido:', req.file.originalname);\n        console.log('Tamanho do arquivo:', req.file.size, 'bytes');\n        // Redimensionar a imagem para 4:5\n        let imagemProcessada;\n        try {\n            console.log('Redimensionando imagem para formato 4:5...');\n            imagemProcessada = await (0,_services_redimensionarImagem__WEBPACK_IMPORTED_MODULE_9__.redimensionarImagem)(req.file.buffer, {\n                largura: 1080,\n                altura: 1350,\n                qualidade: 85,\n                formato: 'jpeg'\n            });\n            console.log('Redimensionamento concluído');\n        } catch (redimensionarErro) {\n            console.error('Erro ao redimensionar imagem:', redimensionarErro);\n            return res.status(500).json({\n                erro: 'Erro ao redimensionar imagem: ' + redimensionarErro.message\n            });\n        }\n        // Upload para o S3\n        const bucketName = process.env.BUCKET_PUBLICACOES;\n        if (!bucketName) {\n            return res.status(500).json({\n                erro: 'Bucket não configurado'\n            });\n        }\n        // Gera um nome único para o arquivo\n        const fileName = `publicacoes/redim_${(0,crypto__WEBPACK_IMPORTED_MODULE_8__.randomUUID)()}.jpg`;\n        // Prepara o comando para upload\n        const uploadParams = {\n            Bucket: bucketName,\n            Key: fileName,\n            Body: imagemProcessada,\n            ContentType: 'image/jpeg'\n        };\n        console.log('Enviando arquivo redimensionado para S3...');\n        await s3Client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_7__.PutObjectCommand(uploadParams));\n        console.log('Upload para S3 concluído');\n        // Gera a URL da imagem\n        const timestamp = Date.now();\n        const cloudFrontDomain = process.env.CLOUDFRONT_DOMAIN || '';\n        const mediaUrl = cloudFrontDomain ? `https://${cloudFrontDomain}/${fileName}?v=${timestamp}` : `https://${bucketName}.s3.amazonaws.com/${fileName}?v=${timestamp}`;\n        // Cria a publicação no banco de dados\n        const publicacao = {\n            idUsuario: usuario._id.toString(),\n            descricao,\n            foto: mediaUrl,\n            data: new Date()\n        };\n        console.log('Criando publicação:', publicacao);\n        usuario.publicacoes++;\n        await _models_UsuarioModel__WEBPACK_IMPORTED_MODULE_5__.UsuarioModel.findByIdAndUpdate({\n            _id: usuario._id\n        }, usuario);\n        await _models_PublicacaoModel__WEBPACK_IMPORTED_MODULE_4__.PublicacaoModel.create(publicacao);\n        return res.status(200).json({\n            msg: 'Publicação criada com sucesso'\n        });\n    } catch (e) {\n        console.error('Erro ao cadastrar publicação simplificada:', e);\n        if (e instanceof Error) {\n            console.error('Detalhes do erro:', e.message);\n            console.error('Stack trace:', e.stack);\n        }\n        return res.status(500).json({\n            erro: 'Erro ao cadastrar publicação: ' + (e instanceof Error ? e.message : String(e))\n        });\n    }\n});\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middlewares_politicaCORS__WEBPACK_IMPORTED_MODULE_6__.politicaCORS)((0,_middlewares_validarTokenJWT__WEBPACK_IMPORTED_MODULE_3__.validarTokenJWT)((0,_middlewares_conectarMongoDB__WEBPACK_IMPORTED_MODULE_2__.conectarMongoDB)(handlerPost))));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9wdWJsaWNhY2FvU2ltcGxlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFOEI7QUFDRjtBQUN3QztBQUNBO0FBQ0w7QUFDTjtBQUNDO0FBQ007QUFDNUI7QUFDcUM7QUFFekUsaURBQWlEO0FBQ2pELE1BQU1XLFVBQVVWLDJEQUFvQjtBQUNwQyxNQUFNWSxTQUFTWiw2Q0FBTUEsQ0FBQztJQUFFVSxTQUFTQTtBQUFRO0FBRXpDLDZCQUE2QjtBQUM3QixNQUFNRyxXQUFXLElBQUlQLHdEQUFRQSxDQUFDO0lBQzVCUSxRQUFRQyxRQUFRQyxHQUFHLENBQUNDLFVBQVUsSUFBSTtJQUNsQ0MsYUFBYTtRQUNYQyxhQUFhSixRQUFRQyxHQUFHLENBQUNJLGlCQUFpQixJQUFJO1FBQzlDQyxpQkFBaUJOLFFBQVFDLEdBQUcsQ0FBQ00scUJBQXFCLElBQUk7SUFDeEQ7QUFDRjtBQUVBLHdEQUF3RDtBQUN4RCxNQUFNQyxjQUFjeEIsd0RBQUVBLEdBQ2pCeUIsR0FBRyxDQUFDWixPQUFPYSxNQUFNLENBQUMsU0FDbEJDLElBQUksQ0FBQyxPQUFPQyxLQUFVQztJQUNuQixJQUFJO1FBQ0FDLFFBQVFDLEdBQUcsQ0FBQztRQUVaLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdKLElBQUlLLEtBQUs7UUFDNUIsTUFBTUMsVUFBVSxNQUFNN0IsOERBQVlBLENBQUM4QixRQUFRLENBQUNIO1FBQzVDLElBQUksQ0FBQ0UsU0FBUztZQUNWLE9BQU9MLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE1BQU07WUFBeUI7UUFDakU7UUFFQSxJQUFJLENBQUNWLE9BQU8sQ0FBQ0EsSUFBSVcsSUFBSSxFQUFFO1lBQ25CLE9BQU9WLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE1BQU07WUFBdUM7UUFDL0U7UUFDQSxNQUFNLEVBQUVFLFNBQVMsRUFBRSxHQUFHWixJQUFJVyxJQUFJO1FBRTlCLElBQUksQ0FBQ0MsYUFBYUEsVUFBVUMsTUFBTSxHQUFHLEdBQUc7WUFDcEMsT0FBT1osSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsTUFBTTtZQUF5QjtRQUNqRTtRQUVBLElBQUksQ0FBQ1YsSUFBSWMsSUFBSSxJQUFJLENBQUNkLElBQUljLElBQUksQ0FBQ0MsWUFBWSxFQUFFO1lBQ3JDLE9BQU9kLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE1BQU07WUFBeUI7UUFDakU7UUFFQVIsUUFBUUMsR0FBRyxDQUFDLHFCQUFxQkgsSUFBSWMsSUFBSSxDQUFDQyxZQUFZO1FBQ3REYixRQUFRQyxHQUFHLENBQUMsdUJBQXVCSCxJQUFJYyxJQUFJLENBQUNFLElBQUksRUFBRTtRQUVsRCxrQ0FBa0M7UUFDbEMsSUFBSUM7UUFDSixJQUFJO1lBQ0FmLFFBQVFDLEdBQUcsQ0FBQztZQUNaYyxtQkFBbUIsTUFBTW5DLGtGQUFtQkEsQ0FBQ2tCLElBQUljLElBQUksQ0FBQ0ksTUFBTSxFQUFFO2dCQUMxREMsU0FBUztnQkFDVEMsUUFBUTtnQkFDUkMsV0FBVztnQkFDWEMsU0FBUztZQUNiO1lBQ0FwQixRQUFRQyxHQUFHLENBQUM7UUFDaEIsRUFBRSxPQUFPb0IsbUJBQW1CO1lBQ3hCckIsUUFBUXNCLEtBQUssQ0FBQyxpQ0FBaUNEO1lBQy9DLE9BQU90QixJQUFJTyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxNQUFNLG1DQUFtQ2Esa0JBQWtCRSxPQUFPO1lBQUM7UUFDckc7UUFFQSxtQkFBbUI7UUFDbkIsTUFBTUMsYUFBYXRDLFFBQVFDLEdBQUcsQ0FBQ3NDLGtCQUFrQjtRQUNqRCxJQUFJLENBQUNELFlBQVk7WUFDYixPQUFPekIsSUFBSU8sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsTUFBTTtZQUF5QjtRQUNqRTtRQUVBLG9DQUFvQztRQUNwQyxNQUFNa0IsV0FBVyxDQUFDLGtCQUFrQixFQUFFL0Msa0RBQVVBLEdBQUcsSUFBSSxDQUFDO1FBRXhELGdDQUFnQztRQUNoQyxNQUFNZ0QsZUFBZTtZQUNqQkMsUUFBUUo7WUFDUkssS0FBS0g7WUFDTEksTUFBTWY7WUFDTmdCLGFBQWE7UUFDakI7UUFFQS9CLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE1BQU1qQixTQUFTZ0QsSUFBSSxDQUFDLElBQUl0RCxnRUFBZ0JBLENBQUNpRDtRQUN6QzNCLFFBQVFDLEdBQUcsQ0FBQztRQUVaLHVCQUF1QjtRQUN2QixNQUFNZ0MsWUFBWUMsS0FBS0MsR0FBRztRQUMxQixNQUFNQyxtQkFBbUJsRCxRQUFRQyxHQUFHLENBQUNrRCxpQkFBaUIsSUFBSTtRQUMxRCxNQUFNQyxXQUFXRixtQkFDWCxDQUFDLFFBQVEsRUFBRUEsaUJBQWlCLENBQUMsRUFBRVYsU0FBUyxHQUFHLEVBQUVPLFdBQVcsR0FDeEQsQ0FBQyxRQUFRLEVBQUVULFdBQVcsa0JBQWtCLEVBQUVFLFNBQVMsR0FBRyxFQUFFTyxXQUFXO1FBRXpFLHNDQUFzQztRQUN0QyxNQUFNTSxhQUFhO1lBQ2ZDLFdBQVdwQyxRQUFRcUMsR0FBRyxDQUFDQyxRQUFRO1lBQy9CaEM7WUFDQWlDLE1BQU1MO1lBQ05NLE1BQU0sSUFBSVY7UUFDZDtRQUVBbEMsUUFBUUMsR0FBRyxDQUFDLHVCQUF1QnNDO1FBRW5DbkMsUUFBUXlDLFdBQVc7UUFDbkIsTUFBTXRFLDhEQUFZQSxDQUFDdUUsaUJBQWlCLENBQUM7WUFBRUwsS0FBS3JDLFFBQVFxQyxHQUFHO1FBQUMsR0FBR3JDO1FBRTNELE1BQU05QixvRUFBZUEsQ0FBQ3lFLE1BQU0sQ0FBQ1I7UUFDN0IsT0FBT3hDLElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRXlDLEtBQUs7UUFBZ0M7SUFDdkUsRUFBRSxPQUFPQyxHQUFHO1FBQ1JqRCxRQUFRc0IsS0FBSyxDQUFDLDhDQUE4QzJCO1FBQzVELElBQUlBLGFBQWFDLE9BQU87WUFDcEJsRCxRQUFRc0IsS0FBSyxDQUFDLHFCQUFxQjJCLEVBQUUxQixPQUFPO1lBQzVDdkIsUUFBUXNCLEtBQUssQ0FBQyxnQkFBZ0IyQixFQUFFRSxLQUFLO1FBQ3pDO1FBQ0EsT0FBT3BELElBQUlPLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsTUFBTSxtQ0FBb0N5QyxDQUFBQSxhQUFhQyxRQUFRRCxFQUFFMUIsT0FBTyxHQUFHNkIsT0FBT0gsRUFBQztRQUFHO0lBQ3hIO0FBQ0o7QUFFRyxNQUFNSSxTQUFTO0lBQ2xCQyxLQUFLO1FBQ0RDLFlBQVk7SUFDaEI7QUFDSixFQUFFO0FBRUYsaUVBQWUvRSx1RUFBWUEsQ0FBQ0gsNkVBQWVBLENBQUNELDZFQUFlQSxDQUFDc0IsY0FBY0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFByb2pldG9zIEdpdFxcRGV2YXJpYVxcRGV2YWdyYW0tTm9kZVxccGFnZXNcXGFwaVxccHVibGljYWNhb1NpbXBsZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgdHlwZSB7IHJlc3Bvc3RhUGFkcmFvTXNnIH0gZnJvbSAnLi4vLi4vdHlwZXMvcmVzcG9zdGFQYWRyYW9Nc2cnO1xuaW1wb3J0IG5jIGZyb20gJ25leHQtY29ubmVjdCc7XG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XG5pbXBvcnQgeyBjb25lY3Rhck1vbmdvREIgfSBmcm9tICcuLi8uLi9taWRkbGV3YXJlcy9jb25lY3Rhck1vbmdvREInO1xuaW1wb3J0IHsgdmFsaWRhclRva2VuSldUIH0gZnJvbSAnLi4vLi4vbWlkZGxld2FyZXMvdmFsaWRhclRva2VuSldUJztcbmltcG9ydCB7IFB1YmxpY2FjYW9Nb2RlbCB9IGZyb20gJy4uLy4uL21vZGVscy9QdWJsaWNhY2FvTW9kZWwnO1xuaW1wb3J0IHsgVXN1YXJpb01vZGVsIH0gZnJvbSAnLi4vLi4vbW9kZWxzL1VzdWFyaW9Nb2RlbCc7XG5pbXBvcnQgeyBwb2xpdGljYUNPUlMgfSBmcm9tICdAL21pZGRsZXdhcmVzL3BvbGl0aWNhQ09SUyc7XG5pbXBvcnQgeyBTM0NsaWVudCwgUHV0T2JqZWN0Q29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1zMyc7XG5pbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSAnY3J5cHRvJztcbmltcG9ydCB7IHJlZGltZW5zaW9uYXJJbWFnZW0gfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9yZWRpbWVuc2lvbmFySW1hZ2VtJztcblxuLy8gQ29uZmlndXJhw6fDo28gZG8gbXVsdGVyIHBhcmEgdXBsb2FkIGRlIGFycXVpdm9zXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLm1lbW9yeVN0b3JhZ2UoKTtcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2UgfSk7XG5cbi8vIENvbmZpZ3VyYcOnw6NvIGRvIGNsaWVudGUgUzNcbmNvbnN0IHMzQ2xpZW50ID0gbmV3IFMzQ2xpZW50KHtcbiAgcmVnaW9uOiBwcm9jZXNzLmVudi5BV1NfUkVHSU9OIHx8ICd1cy1lYXN0LTEnLFxuICBjcmVkZW50aWFsczoge1xuICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5BV1NfQUNDRVNTX0tFWV9JRCB8fCAnJyxcbiAgICBzZWNyZXRBY2Nlc3NLZXk6IHByb2Nlc3MuZW52LkFXU19TRUNSRVRfQUNDRVNTX0tFWSB8fCAnJ1xuICB9XG59KTtcblxuLy8gSGFuZGxlciBwYXJhIHJlcXVpc2nDp8O1ZXMgUE9TVCAoY29tIHVwbG9hZCBkZSBhcnF1aXZvKVxuY29uc3QgaGFuZGxlclBvc3QgPSBuYygpXG4gICAgLnVzZSh1cGxvYWQuc2luZ2xlKCdmaWxlJykpXG4gICAgLnBvc3QoYXN5bmMgKHJlcTogYW55LCByZXM6IE5leHRBcGlSZXNwb25zZTxyZXNwb3N0YVBhZHJhb01zZz4pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbmljaWFuZG8gcHVibGljYcOnw6NvIHNpbXBsaWZpY2FkYSBjb20gcmVkaW1lbnNpb25hbWVudG8uLi4nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgeyB1c2VySWQgfSA9IHJlcS5xdWVyeTtcbiAgICAgICAgICAgIGNvbnN0IHVzdWFyaW8gPSBhd2FpdCBVc3VhcmlvTW9kZWwuZmluZEJ5SWQodXNlcklkKTtcbiAgICAgICAgICAgIGlmICghdXN1YXJpbykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm86ICdVc3XDoXJpbyBuw6NvIGVuY29udHJhZG8nIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXJlcSB8fCAhcmVxLmJvZHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvOiAnUGFyw6JtZXRyb3MgZGUgZW50cmFkYSBuw6NvIGluZm9ybWFkb3MnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBkZXNjcmljYW8gfSA9IHJlcS5ib2R5O1xuXG4gICAgICAgICAgICBpZiAoIWRlc2NyaWNhbyB8fCBkZXNjcmljYW8ubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm86ICdEZXNjcmnDp8OjbyBuw6NvIMOpIHbDoWxpZGEnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlcS5maWxlIHx8ICFyZXEuZmlsZS5vcmlnaW5hbG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvOiAnQSBpbWFnZW0gw6kgb2JyaWdhdMOzcmlhJyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FycXVpdm8gcmVjZWJpZG86JywgcmVxLmZpbGUub3JpZ2luYWxuYW1lKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUYW1hbmhvIGRvIGFycXVpdm86JywgcmVxLmZpbGUuc2l6ZSwgJ2J5dGVzJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlZGltZW5zaW9uYXIgYSBpbWFnZW0gcGFyYSA0OjVcbiAgICAgICAgICAgIGxldCBpbWFnZW1Qcm9jZXNzYWRhO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVkaW1lbnNpb25hbmRvIGltYWdlbSBwYXJhIGZvcm1hdG8gNDo1Li4uJyk7XG4gICAgICAgICAgICAgICAgaW1hZ2VtUHJvY2Vzc2FkYSA9IGF3YWl0IHJlZGltZW5zaW9uYXJJbWFnZW0ocmVxLmZpbGUuYnVmZmVyLCB7XG4gICAgICAgICAgICAgICAgICAgIGxhcmd1cmE6IDEwODAsXG4gICAgICAgICAgICAgICAgICAgIGFsdHVyYTogMTM1MCwgLy8gUHJvcG9yw6fDo28gNDo1XG4gICAgICAgICAgICAgICAgICAgIHF1YWxpZGFkZTogODUsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdG86ICdqcGVnJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWRpbWVuc2lvbmFtZW50byBjb25jbHXDrWRvJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChyZWRpbWVuc2lvbmFyRXJybykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gcmVkaW1lbnNpb25hciBpbWFnZW06JywgcmVkaW1lbnNpb25hckVycm8pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm86ICdFcnJvIGFvIHJlZGltZW5zaW9uYXIgaW1hZ2VtOiAnICsgcmVkaW1lbnNpb25hckVycm8ubWVzc2FnZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBsb2FkIHBhcmEgbyBTM1xuICAgICAgICAgICAgY29uc3QgYnVja2V0TmFtZSA9IHByb2Nlc3MuZW52LkJVQ0tFVF9QVUJMSUNBQ09FUztcbiAgICAgICAgICAgIGlmICghYnVja2V0TmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm86ICdCdWNrZXQgbsOjbyBjb25maWd1cmFkbycgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEdlcmEgdW0gbm9tZSDDum5pY28gcGFyYSBvIGFycXVpdm9cbiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYHB1YmxpY2Fjb2VzL3JlZGltXyR7cmFuZG9tVVVJRCgpfS5qcGdgO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBQcmVwYXJhIG8gY29tYW5kbyBwYXJhIHVwbG9hZFxuICAgICAgICAgICAgY29uc3QgdXBsb2FkUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIEJ1Y2tldDogYnVja2V0TmFtZSxcbiAgICAgICAgICAgICAgICBLZXk6IGZpbGVOYW1lLFxuICAgICAgICAgICAgICAgIEJvZHk6IGltYWdlbVByb2Nlc3NhZGEsXG4gICAgICAgICAgICAgICAgQ29udGVudFR5cGU6ICdpbWFnZS9qcGVnJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VudmlhbmRvIGFycXVpdm8gcmVkaW1lbnNpb25hZG8gcGFyYSBTMy4uLicpO1xuICAgICAgICAgICAgYXdhaXQgczNDbGllbnQuc2VuZChuZXcgUHV0T2JqZWN0Q29tbWFuZCh1cGxvYWRQYXJhbXMpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWQgcGFyYSBTMyBjb25jbHXDrWRvJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEdlcmEgYSBVUkwgZGEgaW1hZ2VtXG4gICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgY2xvdWRGcm9udERvbWFpbiA9IHByb2Nlc3MuZW52LkNMT1VERlJPTlRfRE9NQUlOIHx8ICcnO1xuICAgICAgICAgICAgY29uc3QgbWVkaWFVcmwgPSBjbG91ZEZyb250RG9tYWluIFxuICAgICAgICAgICAgICAgID8gYGh0dHBzOi8vJHtjbG91ZEZyb250RG9tYWlufS8ke2ZpbGVOYW1lfT92PSR7dGltZXN0YW1wfWBcbiAgICAgICAgICAgICAgICA6IGBodHRwczovLyR7YnVja2V0TmFtZX0uczMuYW1hem9uYXdzLmNvbS8ke2ZpbGVOYW1lfT92PSR7dGltZXN0YW1wfWA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENyaWEgYSBwdWJsaWNhw6fDo28gbm8gYmFuY28gZGUgZGFkb3NcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY2FjYW8gPSB7XG4gICAgICAgICAgICAgICAgaWRVc3VhcmlvOiB1c3VhcmlvLl9pZC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIGRlc2NyaWNhbyxcbiAgICAgICAgICAgICAgICBmb3RvOiBtZWRpYVVybCxcbiAgICAgICAgICAgICAgICBkYXRhOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3JpYW5kbyBwdWJsaWNhw6fDo286JywgcHVibGljYWNhbyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHVzdWFyaW8ucHVibGljYWNvZXMrKztcbiAgICAgICAgICAgIGF3YWl0IFVzdWFyaW9Nb2RlbC5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogdXN1YXJpby5faWQgfSwgdXN1YXJpbyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGF3YWl0IFB1YmxpY2FjYW9Nb2RlbC5jcmVhdGUocHVibGljYWNhbyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtc2c6ICdQdWJsaWNhw6fDo28gY3JpYWRhIGNvbSBzdWNlc3NvJyB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBjYWRhc3RyYXIgcHVibGljYcOnw6NvIHNpbXBsaWZpY2FkYTonLCBlKTtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdEZXRhbGhlcyBkbyBlcnJvOicsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU3RhY2sgdHJhY2U6JywgZS5zdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvOiAnRXJybyBhbyBjYWRhc3RyYXIgcHVibGljYcOnw6NvOiAnICsgKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFN0cmluZyhlKSkgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgICBhcGk6IHtcbiAgICAgICAgYm9keVBhcnNlcjogZmFsc2VcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwb2xpdGljYUNPUlModmFsaWRhclRva2VuSldUKGNvbmVjdGFyTW9uZ29EQihoYW5kbGVyUG9zdCkpKTsiXSwibmFtZXMiOlsibmMiLCJtdWx0ZXIiLCJjb25lY3Rhck1vbmdvREIiLCJ2YWxpZGFyVG9rZW5KV1QiLCJQdWJsaWNhY2FvTW9kZWwiLCJVc3VhcmlvTW9kZWwiLCJwb2xpdGljYUNPUlMiLCJTM0NsaWVudCIsIlB1dE9iamVjdENvbW1hbmQiLCJyYW5kb21VVUlEIiwicmVkaW1lbnNpb25hckltYWdlbSIsInN0b3JhZ2UiLCJtZW1vcnlTdG9yYWdlIiwidXBsb2FkIiwiczNDbGllbnQiLCJyZWdpb24iLCJwcm9jZXNzIiwiZW52IiwiQVdTX1JFR0lPTiIsImNyZWRlbnRpYWxzIiwiYWNjZXNzS2V5SWQiLCJBV1NfQUNDRVNTX0tFWV9JRCIsInNlY3JldEFjY2Vzc0tleSIsIkFXU19TRUNSRVRfQUNDRVNTX0tFWSIsImhhbmRsZXJQb3N0IiwidXNlIiwic2luZ2xlIiwicG9zdCIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJ1c2VySWQiLCJxdWVyeSIsInVzdWFyaW8iLCJmaW5kQnlJZCIsInN0YXR1cyIsImpzb24iLCJlcnJvIiwiYm9keSIsImRlc2NyaWNhbyIsImxlbmd0aCIsImZpbGUiLCJvcmlnaW5hbG5hbWUiLCJzaXplIiwiaW1hZ2VtUHJvY2Vzc2FkYSIsImJ1ZmZlciIsImxhcmd1cmEiLCJhbHR1cmEiLCJxdWFsaWRhZGUiLCJmb3JtYXRvIiwicmVkaW1lbnNpb25hckVycm8iLCJlcnJvciIsIm1lc3NhZ2UiLCJidWNrZXROYW1lIiwiQlVDS0VUX1BVQkxJQ0FDT0VTIiwiZmlsZU5hbWUiLCJ1cGxvYWRQYXJhbXMiLCJCdWNrZXQiLCJLZXkiLCJCb2R5IiwiQ29udGVudFR5cGUiLCJzZW5kIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImNsb3VkRnJvbnREb21haW4iLCJDTE9VREZST05UX0RPTUFJTiIsIm1lZGlhVXJsIiwicHVibGljYWNhbyIsImlkVXN1YXJpbyIsIl9pZCIsInRvU3RyaW5nIiwiZm90byIsImRhdGEiLCJwdWJsaWNhY29lcyIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY3JlYXRlIiwibXNnIiwiZSIsIkVycm9yIiwic3RhY2siLCJTdHJpbmciLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/publicacaoSimples.ts\n");

/***/ }),

/***/ "(api-node)/./services/redimensionarImagem.ts":
/*!*****************************************!*\
  !*** ./services/redimensionarImagem.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   redimensionarImagem: () => (/* binding */ redimensionarImagem)\n/* harmony export */ });\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sharp */ \"sharp\");\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sharp__WEBPACK_IMPORTED_MODULE_0__);\n\n/**\n * Redimensiona uma imagem para o formato ideal\n * @param buffer Buffer da imagem original\n * @param options Opções de redimensionamento\n * @returns Buffer da imagem redimensionada\n */ async function redimensionarImagem(buffer, options = {}) {\n    try {\n        // Verificar se o buffer é válido\n        if (!buffer || buffer.length === 0) {\n            throw new Error('Buffer de imagem vazio ou inválido');\n        }\n        console.log('Iniciando redimensionamento de imagem:', {\n            tamanhoBuffer: buffer.length,\n            opcoes: options\n        });\n        // Obter as dimensões da imagem original\n        const metadata = await sharp__WEBPACK_IMPORTED_MODULE_0___default()(buffer).metadata();\n        console.log('Dimensões originais:', {\n            largura: metadata.width,\n            altura: metadata.height,\n            formato: metadata.format\n        });\n        // Valores padrão para o Instagram (4:5)\n        const larguraAlvo = options.largura || 1080;\n        const alturaAlvo = options.altura || 1350;\n        const qualidade = options.qualidade || 85;\n        const formato = options.formato || 'jpeg';\n        // Cor de fundo branca para preenchimento\n        const corFundo = {\n            r: 255,\n            g: 255,\n            b: 255,\n            alpha: 1\n        };\n        // Calcular dimensões para manter a proporção 4:5\n        let larguraFinal = larguraAlvo;\n        let alturaFinal = alturaAlvo;\n        if (metadata.width && metadata.height) {\n            const proporcaoOriginal = metadata.width / metadata.height;\n            const proporcaoAlvo = 4 / 5; // Proporção Instagram (4:5)\n            if (proporcaoOriginal > proporcaoAlvo) {\n                // Imagem mais larga que 4:5\n                alturaFinal = alturaAlvo;\n                larguraFinal = Math.round(alturaAlvo * proporcaoAlvo);\n            } else {\n                // Imagem mais alta que 4:5\n                larguraFinal = larguraAlvo;\n                alturaFinal = Math.round(larguraAlvo / proporcaoAlvo);\n            }\n        }\n        console.log('Dimensões finais calculadas:', {\n            largura: larguraFinal,\n            altura: alturaFinal\n        });\n        // Processar a imagem\n        const imagemProcessada = sharp__WEBPACK_IMPORTED_MODULE_0___default()(buffer)// Primeiro redimensionar mantendo a proporção original\n        .resize({\n            width: larguraFinal,\n            height: alturaFinal,\n            fit: 'contain',\n            background: corFundo,\n            position: 'center'\n        });\n        // Definir formato e qualidade\n        let resultado;\n        try {\n            if (formato === 'jpeg') {\n                resultado = await imagemProcessada.jpeg({\n                    quality: qualidade\n                }).toBuffer();\n            } else if (formato === 'png') {\n                resultado = await imagemProcessada.png({\n                    quality: qualidade\n                }).toBuffer();\n            } else if (formato === 'webp') {\n                resultado = await imagemProcessada.webp({\n                    quality: qualidade\n                }).toBuffer();\n            } else {\n                resultado = await imagemProcessada.jpeg({\n                    quality: qualidade\n                }).toBuffer();\n            }\n            console.log('Redimensionamento concluído com sucesso:', {\n                tamanhoOriginal: buffer.length,\n                tamanhoFinal: resultado.length,\n                formato,\n                largura: larguraFinal,\n                altura: alturaFinal\n            });\n            return resultado;\n        } catch (erroFormato) {\n            console.error('Erro ao processar formato da imagem:', erroFormato);\n            console.log('Tentando converter para JPEG como fallback...');\n            return await imagemProcessada.jpeg({\n                quality: qualidade\n            }).toBuffer();\n        }\n    } catch (erro) {\n        console.error('Erro ao redimensionar imagem:', erro);\n        if (erro instanceof Error) {\n            console.error('Detalhes do erro:', erro.message);\n            console.error('Stack trace:', erro.stack);\n            if (erro.message.includes('Input buffer contains unsupported image format')) {\n                throw new Error('Formato de imagem não suportado. Use JPEG, PNG ou WebP.');\n            }\n            if (erro.message.includes('memory') || erro.message.includes('allocation')) {\n                throw new Error('Imagem muito grande para processamento. Tente uma imagem menor.');\n            }\n        }\n        throw new Error('Falha ao processar imagem: ' + (erro instanceof Error ? erro.message : String(erro)));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3NlcnZpY2VzL3JlZGltZW5zaW9uYXJJbWFnZW0udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBCO0FBRTFCOzs7OztDQUtDLEdBQ00sZUFBZUMsb0JBQ3BCQyxNQUFjLEVBQ2RDLFVBTUksQ0FBQyxDQUFDO0lBRU4sSUFBSTtRQUNGLGlDQUFpQztRQUNqQyxJQUFJLENBQUNELFVBQVVBLE9BQU9FLE1BQU0sS0FBSyxHQUFHO1lBQ2xDLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUVBQyxRQUFRQyxHQUFHLENBQUMsMENBQTBDO1lBQ3BEQyxlQUFlTixPQUFPRSxNQUFNO1lBQzVCSyxRQUFRTjtRQUNWO1FBRUEsd0NBQXdDO1FBQ3hDLE1BQU1PLFdBQVcsTUFBTVYsNENBQUtBLENBQUNFLFFBQVFRLFFBQVE7UUFDN0NKLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0I7WUFDbENJLFNBQVNELFNBQVNFLEtBQUs7WUFDdkJDLFFBQVFILFNBQVNJLE1BQU07WUFDdkJDLFNBQVNMLFNBQVNNLE1BQU07UUFDMUI7UUFFQSx3Q0FBd0M7UUFDeEMsTUFBTUMsY0FBY2QsUUFBUVEsT0FBTyxJQUFJO1FBQ3ZDLE1BQU1PLGFBQWFmLFFBQVFVLE1BQU0sSUFBSTtRQUNyQyxNQUFNTSxZQUFZaEIsUUFBUWdCLFNBQVMsSUFBSTtRQUN2QyxNQUFNSixVQUFVWixRQUFRWSxPQUFPLElBQUk7UUFFbkMseUNBQXlDO1FBQ3pDLE1BQU1LLFdBQVc7WUFBRUMsR0FBRztZQUFLQyxHQUFHO1lBQUtDLEdBQUc7WUFBS0MsT0FBTztRQUFFO1FBRXBELGlEQUFpRDtRQUNqRCxJQUFJQyxlQUFlUjtRQUNuQixJQUFJUyxjQUFjUjtRQUVsQixJQUFJUixTQUFTRSxLQUFLLElBQUlGLFNBQVNJLE1BQU0sRUFBRTtZQUNyQyxNQUFNYSxvQkFBb0JqQixTQUFTRSxLQUFLLEdBQUdGLFNBQVNJLE1BQU07WUFDMUQsTUFBTWMsZ0JBQWdCLElBQUUsR0FBRyw0QkFBNEI7WUFFdkQsSUFBSUQsb0JBQW9CQyxlQUFlO2dCQUNyQyw0QkFBNEI7Z0JBQzVCRixjQUFjUjtnQkFDZE8sZUFBZUksS0FBS0MsS0FBSyxDQUFDWixhQUFhVTtZQUN6QyxPQUFPO2dCQUNMLDJCQUEyQjtnQkFDM0JILGVBQWVSO2dCQUNmUyxjQUFjRyxLQUFLQyxLQUFLLENBQUNiLGNBQWNXO1lBQ3pDO1FBQ0Y7UUFFQXRCLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0M7WUFDMUNJLFNBQVNjO1lBQ1RaLFFBQVFhO1FBQ1Y7UUFFQSxxQkFBcUI7UUFDckIsTUFBTUssbUJBQW1CL0IsNENBQUtBLENBQUNFLE9BQzdCLHVEQUF1RDtTQUN0RDhCLE1BQU0sQ0FBQztZQUNOcEIsT0FBT2E7WUFDUFgsUUFBUVk7WUFDUk8sS0FBSztZQUNMQyxZQUFZZDtZQUNaZSxVQUFVO1FBQ1o7UUFFRiw4QkFBOEI7UUFDOUIsSUFBSUM7UUFDSixJQUFJO1lBQ0YsSUFBSXJCLFlBQVksUUFBUTtnQkFDdEJxQixZQUFZLE1BQU1MLGlCQUFpQk0sSUFBSSxDQUFDO29CQUFFQyxTQUFTbkI7Z0JBQVUsR0FBR29CLFFBQVE7WUFDMUUsT0FBTyxJQUFJeEIsWUFBWSxPQUFPO2dCQUM1QnFCLFlBQVksTUFBTUwsaUJBQWlCUyxHQUFHLENBQUM7b0JBQUVGLFNBQVNuQjtnQkFBVSxHQUFHb0IsUUFBUTtZQUN6RSxPQUFPLElBQUl4QixZQUFZLFFBQVE7Z0JBQzdCcUIsWUFBWSxNQUFNTCxpQkFBaUJVLElBQUksQ0FBQztvQkFBRUgsU0FBU25CO2dCQUFVLEdBQUdvQixRQUFRO1lBQzFFLE9BQU87Z0JBQ0xILFlBQVksTUFBTUwsaUJBQWlCTSxJQUFJLENBQUM7b0JBQUVDLFNBQVNuQjtnQkFBVSxHQUFHb0IsUUFBUTtZQUMxRTtZQUVBakMsUUFBUUMsR0FBRyxDQUFDLDRDQUE0QztnQkFDdERtQyxpQkFBaUJ4QyxPQUFPRSxNQUFNO2dCQUM5QnVDLGNBQWNQLFVBQVVoQyxNQUFNO2dCQUM5Qlc7Z0JBQ0FKLFNBQVNjO2dCQUNUWixRQUFRYTtZQUNWO1lBRUEsT0FBT1U7UUFDVCxFQUFFLE9BQU9RLGFBQWE7WUFDcEJ0QyxRQUFRdUMsS0FBSyxDQUFDLHdDQUF3Q0Q7WUFDdER0QyxRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPLE1BQU13QixpQkFBaUJNLElBQUksQ0FBQztnQkFBRUMsU0FBU25CO1lBQVUsR0FBR29CLFFBQVE7UUFDckU7SUFDRixFQUFFLE9BQU9PLE1BQU07UUFDYnhDLFFBQVF1QyxLQUFLLENBQUMsaUNBQWlDQztRQUUvQyxJQUFJQSxnQkFBZ0J6QyxPQUFPO1lBQ3pCQyxRQUFRdUMsS0FBSyxDQUFDLHFCQUFxQkMsS0FBS0MsT0FBTztZQUMvQ3pDLFFBQVF1QyxLQUFLLENBQUMsZ0JBQWdCQyxLQUFLRSxLQUFLO1lBRXhDLElBQUlGLEtBQUtDLE9BQU8sQ0FBQ0UsUUFBUSxDQUFDLG1EQUFtRDtnQkFDM0UsTUFBTSxJQUFJNUMsTUFBTTtZQUNsQjtZQUVBLElBQUl5QyxLQUFLQyxPQUFPLENBQUNFLFFBQVEsQ0FBQyxhQUFhSCxLQUFLQyxPQUFPLENBQUNFLFFBQVEsQ0FBQyxlQUFlO2dCQUMxRSxNQUFNLElBQUk1QyxNQUFNO1lBQ2xCO1FBQ0Y7UUFFQSxNQUFNLElBQUlBLE1BQU0sZ0NBQWlDeUMsQ0FBQUEsZ0JBQWdCekMsUUFBUXlDLEtBQUtDLE9BQU8sR0FBR0csT0FBT0osS0FBSTtJQUNyRztBQUNGIiwic291cmNlcyI6WyJDOlxcUHJvamV0b3MgR2l0XFxEZXZhcmlhXFxEZXZhZ3JhbS1Ob2RlXFxzZXJ2aWNlc1xccmVkaW1lbnNpb25hckltYWdlbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2hhcnAgZnJvbSAnc2hhcnAnO1xuXG4vKipcbiAqIFJlZGltZW5zaW9uYSB1bWEgaW1hZ2VtIHBhcmEgbyBmb3JtYXRvIGlkZWFsXG4gKiBAcGFyYW0gYnVmZmVyIEJ1ZmZlciBkYSBpbWFnZW0gb3JpZ2luYWxcbiAqIEBwYXJhbSBvcHRpb25zIE9ww6fDtWVzIGRlIHJlZGltZW5zaW9uYW1lbnRvXG4gKiBAcmV0dXJucyBCdWZmZXIgZGEgaW1hZ2VtIHJlZGltZW5zaW9uYWRhXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWRpbWVuc2lvbmFySW1hZ2VtKFxuICBidWZmZXI6IEJ1ZmZlcixcbiAgb3B0aW9uczoge1xuICAgIGxhcmd1cmE/OiBudW1iZXI7XG4gICAgYWx0dXJhPzogbnVtYmVyO1xuICAgIHF1YWxpZGFkZT86IG51bWJlcjtcbiAgICBmb3JtYXRvPzogJ2pwZWcnIHwgJ3BuZycgfCAnd2VicCc7XG4gICAgZml0PzogJ2NvdmVyJyB8ICdjb250YWluJyB8ICdmaWxsJyB8ICdpbnNpZGUnIHwgJ291dHNpZGUnO1xuICB9ID0ge31cbik6IFByb21pc2U8QnVmZmVyPiB7XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZpY2FyIHNlIG8gYnVmZmVyIMOpIHbDoWxpZG9cbiAgICBpZiAoIWJ1ZmZlciB8fCBidWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlciBkZSBpbWFnZW0gdmF6aW8gb3UgaW52w6FsaWRvJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdJbmljaWFuZG8gcmVkaW1lbnNpb25hbWVudG8gZGUgaW1hZ2VtOicsIHtcbiAgICAgIHRhbWFuaG9CdWZmZXI6IGJ1ZmZlci5sZW5ndGgsXG4gICAgICBvcGNvZXM6IG9wdGlvbnNcbiAgICB9KTtcblxuICAgIC8vIE9idGVyIGFzIGRpbWVuc8O1ZXMgZGEgaW1hZ2VtIG9yaWdpbmFsXG4gICAgY29uc3QgbWV0YWRhdGEgPSBhd2FpdCBzaGFycChidWZmZXIpLm1ldGFkYXRhKCk7XG4gICAgY29uc29sZS5sb2coJ0RpbWVuc8O1ZXMgb3JpZ2luYWlzOicsIHtcbiAgICAgIGxhcmd1cmE6IG1ldGFkYXRhLndpZHRoLFxuICAgICAgYWx0dXJhOiBtZXRhZGF0YS5oZWlnaHQsXG4gICAgICBmb3JtYXRvOiBtZXRhZGF0YS5mb3JtYXRcbiAgICB9KTtcbiAgICBcbiAgICAvLyBWYWxvcmVzIHBhZHLDo28gcGFyYSBvIEluc3RhZ3JhbSAoNDo1KVxuICAgIGNvbnN0IGxhcmd1cmFBbHZvID0gb3B0aW9ucy5sYXJndXJhIHx8IDEwODA7XG4gICAgY29uc3QgYWx0dXJhQWx2byA9IG9wdGlvbnMuYWx0dXJhIHx8IDEzNTA7XG4gICAgY29uc3QgcXVhbGlkYWRlID0gb3B0aW9ucy5xdWFsaWRhZGUgfHwgODU7XG4gICAgY29uc3QgZm9ybWF0byA9IG9wdGlvbnMuZm9ybWF0byB8fCAnanBlZyc7XG4gICAgXG4gICAgLy8gQ29yIGRlIGZ1bmRvIGJyYW5jYSBwYXJhIHByZWVuY2hpbWVudG9cbiAgICBjb25zdCBjb3JGdW5kbyA9IHsgcjogMjU1LCBnOiAyNTUsIGI6IDI1NSwgYWxwaGE6IDEgfTtcblxuICAgIC8vIENhbGN1bGFyIGRpbWVuc8O1ZXMgcGFyYSBtYW50ZXIgYSBwcm9wb3LDp8OjbyA0OjVcbiAgICBsZXQgbGFyZ3VyYUZpbmFsID0gbGFyZ3VyYUFsdm87XG4gICAgbGV0IGFsdHVyYUZpbmFsID0gYWx0dXJhQWx2bztcbiAgICBcbiAgICBpZiAobWV0YWRhdGEud2lkdGggJiYgbWV0YWRhdGEuaGVpZ2h0KSB7XG4gICAgICBjb25zdCBwcm9wb3JjYW9PcmlnaW5hbCA9IG1ldGFkYXRhLndpZHRoIC8gbWV0YWRhdGEuaGVpZ2h0O1xuICAgICAgY29uc3QgcHJvcG9yY2FvQWx2byA9IDQvNTsgLy8gUHJvcG9yw6fDo28gSW5zdGFncmFtICg0OjUpXG4gICAgICBcbiAgICAgIGlmIChwcm9wb3JjYW9PcmlnaW5hbCA+IHByb3BvcmNhb0Fsdm8pIHtcbiAgICAgICAgLy8gSW1hZ2VtIG1haXMgbGFyZ2EgcXVlIDQ6NVxuICAgICAgICBhbHR1cmFGaW5hbCA9IGFsdHVyYUFsdm87XG4gICAgICAgIGxhcmd1cmFGaW5hbCA9IE1hdGgucm91bmQoYWx0dXJhQWx2byAqIHByb3BvcmNhb0Fsdm8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW1hZ2VtIG1haXMgYWx0YSBxdWUgNDo1XG4gICAgICAgIGxhcmd1cmFGaW5hbCA9IGxhcmd1cmFBbHZvO1xuICAgICAgICBhbHR1cmFGaW5hbCA9IE1hdGgucm91bmQobGFyZ3VyYUFsdm8gLyBwcm9wb3JjYW9BbHZvKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnRGltZW5zw7VlcyBmaW5haXMgY2FsY3VsYWRhczonLCB7XG4gICAgICBsYXJndXJhOiBsYXJndXJhRmluYWwsXG4gICAgICBhbHR1cmE6IGFsdHVyYUZpbmFsXG4gICAgfSk7XG5cbiAgICAvLyBQcm9jZXNzYXIgYSBpbWFnZW1cbiAgICBjb25zdCBpbWFnZW1Qcm9jZXNzYWRhID0gc2hhcnAoYnVmZmVyKVxuICAgICAgLy8gUHJpbWVpcm8gcmVkaW1lbnNpb25hciBtYW50ZW5kbyBhIHByb3BvcsOnw6NvIG9yaWdpbmFsXG4gICAgICAucmVzaXplKHtcbiAgICAgICAgd2lkdGg6IGxhcmd1cmFGaW5hbCxcbiAgICAgICAgaGVpZ2h0OiBhbHR1cmFGaW5hbCxcbiAgICAgICAgZml0OiAnY29udGFpbicsXG4gICAgICAgIGJhY2tncm91bmQ6IGNvckZ1bmRvLFxuICAgICAgICBwb3NpdGlvbjogJ2NlbnRlcidcbiAgICAgIH0pO1xuXG4gICAgLy8gRGVmaW5pciBmb3JtYXRvIGUgcXVhbGlkYWRlXG4gICAgbGV0IHJlc3VsdGFkbztcbiAgICB0cnkge1xuICAgICAgaWYgKGZvcm1hdG8gPT09ICdqcGVnJykge1xuICAgICAgICByZXN1bHRhZG8gPSBhd2FpdCBpbWFnZW1Qcm9jZXNzYWRhLmpwZWcoeyBxdWFsaXR5OiBxdWFsaWRhZGUgfSkudG9CdWZmZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAoZm9ybWF0byA9PT0gJ3BuZycpIHtcbiAgICAgICAgcmVzdWx0YWRvID0gYXdhaXQgaW1hZ2VtUHJvY2Vzc2FkYS5wbmcoeyBxdWFsaXR5OiBxdWFsaWRhZGUgfSkudG9CdWZmZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAoZm9ybWF0byA9PT0gJ3dlYnAnKSB7XG4gICAgICAgIHJlc3VsdGFkbyA9IGF3YWl0IGltYWdlbVByb2Nlc3NhZGEud2VicCh7IHF1YWxpdHk6IHF1YWxpZGFkZSB9KS50b0J1ZmZlcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0YWRvID0gYXdhaXQgaW1hZ2VtUHJvY2Vzc2FkYS5qcGVnKHsgcXVhbGl0eTogcXVhbGlkYWRlIH0pLnRvQnVmZmVyKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdSZWRpbWVuc2lvbmFtZW50byBjb25jbHXDrWRvIGNvbSBzdWNlc3NvOicsIHtcbiAgICAgICAgdGFtYW5ob09yaWdpbmFsOiBidWZmZXIubGVuZ3RoLFxuICAgICAgICB0YW1hbmhvRmluYWw6IHJlc3VsdGFkby5sZW5ndGgsXG4gICAgICAgIGZvcm1hdG8sXG4gICAgICAgIGxhcmd1cmE6IGxhcmd1cmFGaW5hbCxcbiAgICAgICAgYWx0dXJhOiBhbHR1cmFGaW5hbFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiByZXN1bHRhZG87XG4gICAgfSBjYXRjaCAoZXJyb0Zvcm1hdG8pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gcHJvY2Vzc2FyIGZvcm1hdG8gZGEgaW1hZ2VtOicsIGVycm9Gb3JtYXRvKTtcbiAgICAgIGNvbnNvbGUubG9nKCdUZW50YW5kbyBjb252ZXJ0ZXIgcGFyYSBKUEVHIGNvbW8gZmFsbGJhY2suLi4nKTtcbiAgICAgIHJldHVybiBhd2FpdCBpbWFnZW1Qcm9jZXNzYWRhLmpwZWcoeyBxdWFsaXR5OiBxdWFsaWRhZGUgfSkudG9CdWZmZXIoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm8pIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIHJlZGltZW5zaW9uYXIgaW1hZ2VtOicsIGVycm8pO1xuICAgIFxuICAgIGlmIChlcnJvIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RldGFsaGVzIGRvIGVycm86JywgZXJyby5tZXNzYWdlKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0YWNrIHRyYWNlOicsIGVycm8uc3RhY2spO1xuICAgICAgXG4gICAgICBpZiAoZXJyby5tZXNzYWdlLmluY2x1ZGVzKCdJbnB1dCBidWZmZXIgY29udGFpbnMgdW5zdXBwb3J0ZWQgaW1hZ2UgZm9ybWF0JykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3JtYXRvIGRlIGltYWdlbSBuw6NvIHN1cG9ydGFkby4gVXNlIEpQRUcsIFBORyBvdSBXZWJQLicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZXJyby5tZXNzYWdlLmluY2x1ZGVzKCdtZW1vcnknKSB8fCBlcnJvLm1lc3NhZ2UuaW5jbHVkZXMoJ2FsbG9jYXRpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ltYWdlbSBtdWl0byBncmFuZGUgcGFyYSBwcm9jZXNzYW1lbnRvLiBUZW50ZSB1bWEgaW1hZ2VtIG1lbm9yLicpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhbGhhIGFvIHByb2Nlc3NhciBpbWFnZW06ICcgKyAoZXJybyBpbnN0YW5jZW9mIEVycm9yID8gZXJyby5tZXNzYWdlIDogU3RyaW5nKGVycm8pKSk7XG4gIH1cbn0iXSwibmFtZXMiOlsic2hhcnAiLCJyZWRpbWVuc2lvbmFySW1hZ2VtIiwiYnVmZmVyIiwib3B0aW9ucyIsImxlbmd0aCIsIkVycm9yIiwiY29uc29sZSIsImxvZyIsInRhbWFuaG9CdWZmZXIiLCJvcGNvZXMiLCJtZXRhZGF0YSIsImxhcmd1cmEiLCJ3aWR0aCIsImFsdHVyYSIsImhlaWdodCIsImZvcm1hdG8iLCJmb3JtYXQiLCJsYXJndXJhQWx2byIsImFsdHVyYUFsdm8iLCJxdWFsaWRhZGUiLCJjb3JGdW5kbyIsInIiLCJnIiwiYiIsImFscGhhIiwibGFyZ3VyYUZpbmFsIiwiYWx0dXJhRmluYWwiLCJwcm9wb3JjYW9PcmlnaW5hbCIsInByb3BvcmNhb0Fsdm8iLCJNYXRoIiwicm91bmQiLCJpbWFnZW1Qcm9jZXNzYWRhIiwicmVzaXplIiwiZml0IiwiYmFja2dyb3VuZCIsInBvc2l0aW9uIiwicmVzdWx0YWRvIiwianBlZyIsInF1YWxpdHkiLCJ0b0J1ZmZlciIsInBuZyIsIndlYnAiLCJ0YW1hbmhvT3JpZ2luYWwiLCJ0YW1hbmhvRmluYWwiLCJlcnJvRm9ybWF0byIsImVycm9yIiwiZXJybyIsIm1lc3NhZ2UiLCJzdGFjayIsImluY2x1ZGVzIiwiU3RyaW5nIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./services/redimensionarImagem.ts\n");

/***/ }),

/***/ "@aws-sdk/client-s3":
/*!*************************************!*\
  !*** external "@aws-sdk/client-s3" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "next-connect":
/*!*******************************!*\
  !*** external "next-connect" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("next-connect");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nextjs-cors":
/*!******************************!*\
  !*** external "nextjs-cors" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("nextjs-cors");

/***/ }),

/***/ "sharp":
/*!************************!*\
  !*** external "sharp" ***!
  \************************/
/***/ ((module) => {

module.exports = require("sharp");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FpublicacaoSimples&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5CpublicacaoSimples.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();